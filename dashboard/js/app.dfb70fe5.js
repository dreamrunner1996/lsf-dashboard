(function(t){function a(a){for(var i,l,o=a[0],r=a[1],c=a[2],d=0,f=[];d<o.length;d++)l=o[d],Object.prototype.hasOwnProperty.call(s,l)&&s[l]&&f.push(s[l][0]),s[l]=0;for(i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i]);u&&u(a);while(f.length)f.shift()();return n.push.apply(n,c||[]),e()}function e(){for(var t,a=0;a<n.length;a++){for(var e=n[a],i=!0,o=1;o<e.length;o++){var r=e[o];0!==s[r]&&(i=!1)}i&&(n.splice(a--,1),t=l(l.s=e[0]))}return t}var i={},s={app:0},n=[];function l(a){if(i[a])return i[a].exports;var e=i[a]={i:a,l:!1,exports:{}};return t[a].call(e.exports,e,e.exports,l),e.l=!0,e.exports}l.m=t,l.c=i,l.d=function(t,a,e){l.o(t,a)||Object.defineProperty(t,a,{enumerable:!0,get:e})},l.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,a){if(1&a&&(t=l(t)),8&a)return t;if(4&a&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(l.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&a&&"string"!=typeof t)for(var i in t)l.d(e,i,function(a){return t[a]}.bind(null,i));return e},l.n=function(t){var a=t&&t.__esModule?function(){return t["default"]}:function(){return t};return l.d(a,"a",a),a},l.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},l.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],r=o.push.bind(o);o.push=a,o=o.slice();for(var c=0;c<o.length;c++)a(o[c]);var u=r;n.push([0,"chunk-vendors"]),e()})({0:function(t,a,e){t.exports=e("56d7")},"034f":function(t,a,e){"use strict";var i=e("85ec"),s=e.n(i);s.a},"03e4":function(t,a,e){},"0825":function(t,a,e){},"10ef":function(t,a,e){},1659:function(t,a,e){t.exports=e.p+"img/dc-logo.a2ebc895.png"},"1cac":function(t,a,e){},"1cda":function(t,a,e){},28774:function(t,a,e){},3265:function(t,a,e){},"39b6":function(t,a,e){},"3c5e":function(t,a,e){},"405f":function(t,a,e){},4639:function(t,a,e){},4678:function(t,a,e){var i={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function s(t){var a=n(t);return e(a)}function n(t){if(!e.o(i,t)){var a=new Error("Cannot find module '"+t+"'");throw a.code="MODULE_NOT_FOUND",a}return i[t]}s.keys=function(){return Object.keys(i)},s.resolve=n,t.exports=s,s.id="4678"},4876:function(t,a,e){},"4b21":function(t,a,e){},"4bbe":function(t,a,e){},"50b6":function(t,a,e){},"522f":function(t,a,e){},"54b6":function(t,a,e){t.exports=e.p+"img/dash-logo.ffc4fc35.png"},"56d7":function(t,a,e){"use strict";e.r(a);e("e260"),e("e6cf"),e("cca6"),e("a79d");var i=e("2b0e"),s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},n=[],l={name:"App",watch:{$route:function(t){var a=JSON.parse(JSON.stringify(t.query));a._timeStampNum=(new Date).valueOf(),this.$router.push({path:t.path,query:a}).catch((function(t){return t}))}},mounted:function(){console.log(this.$route)}},o=l,r=(e("034f"),e("2877")),c=Object(r["a"])(o,s,n,!1,null,null,null),u=c.exports,d={devUrl:"",url:"",scanTime:{table:5e3,stack:5e3,simulateTime:5e3},axiosUrl:"",readDataUrl:"/api/mdcDashboard/dashboard/read",product:"/api/mdcDashboard/dashboard/data",simulate:"/api/mdcDashboard/dashboard/data/mockParam",displayParams:"/api/mdcDashboard/dashboard/param",displayParam:"/api/mdcDashboard/dashboard/paramThis",output:"/api/mdcDashboard/dashboard/produce",device:"/api/mdcDashboard/device",readProtocol:"/api/mdcDashboard/dashboard/readProtocol"},f=d,p=e("8c4f"),m=function(){var t=this,a=t.$createElement;t._self._c;return t._m(0)},h=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"no-page-content"},[e("div",{staticClass:"rail"},[e("div",{staticClass:"stamp four"},[t._v("4")]),e("div",{staticClass:"stamp zero"},[t._v("0")]),e("div",{staticClass:"stamp four"},[t._v("4")]),e("div",{staticClass:"stamp zero"},[t._v("0")]),e("div",{staticClass:"stamp four"},[t._v("4")]),e("div",{staticClass:"stamp zero"},[t._v("0")]),e("div",{staticClass:"stamp four"},[t._v("4")]),e("div",{staticClass:"stamp zero"},[t._v("0")]),e("div",{staticClass:"stamp four"},[t._v("4")]),e("div",{staticClass:"stamp zero"},[t._v("0")]),e("div",{staticClass:"stamp four"},[t._v("4")]),e("div",{staticClass:"stamp zero"},[t._v("0")]),e("div",{staticClass:"stamp four"},[t._v("4")]),e("div",{staticClass:"stamp zero"},[t._v("0")]),e("div",{staticClass:"stamp four"},[t._v("4")]),e("div",{staticClass:"stamp zero"},[t._v("0")]),e("div",{staticClass:"stamp four"},[t._v("4")]),e("div",{staticClass:"stamp zero"},[t._v("0")]),e("div",{staticClass:"stamp four"},[t._v("4")]),e("div",{staticClass:"stamp zero"},[t._v("0")])]),e("div",{staticClass:"world"},[e("div",{staticClass:"forward"},[e("div",{staticClass:"box"},[e("div",{staticClass:"wall"}),e("div",{staticClass:"wall"}),e("div",{staticClass:"wall"}),e("div",{staticClass:"wall"}),e("div",{staticClass:"wall"}),e("div",{staticClass:"wall"})])])])])}],v=(e("7b48"),{name:"NoPage"}),g=v,C=Object(r["a"])(g,m,h,!1,null,"6e9eb4f3",null),b=C.exports,y=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"select-content"},[e("Card",{staticStyle:{width:"600px"},attrs:{title:"选择页面-跳转"}},[e("div",{staticStyle:{"text-align":"center"}},[e("div",{staticStyle:{"text-align":"left"}},[t._v("URL地址:")]),e("label",{attrs:{title:"地址"}},[e("Input",{model:{value:t.$root.$data.store.devUrl,callback:function(a){t.$set(t.$root.$data.store,"devUrl",a)},expression:"$root.$data.store.devUrl"}})],1)]),e("div",{staticStyle:{"text-align":"center","margin-top":"10px"}},[e("div",{staticStyle:{"text-align":"left"}},[t._v("级联选择:")]),e("Cascader",{staticStyle:{width:"100%"},attrs:{options:t.options},on:{change:t.SelectChange}})],1),e("div",{staticStyle:{"text-align":"center","margin-top":"10px"}},[e("div",{staticStyle:{"text-align":"left"}},[t._v("额外参数:")]),e("div",{staticStyle:{display:"flex","flex-direction":"row"}},[e("div",{staticStyle:{height:"32px","line-height":"32px",width:"100px","text-align":"left"}},[t._v("configId: ")]),e("div",{staticStyle:{"margin-left":"20px",width:"430px"}},[e("label",{attrs:{title:"configId"}},[e("Input",{attrs:{placeholder:"configId"},model:{value:t.configId,callback:function(a){t.configId=a},expression:"configId"}})],1)])]),e("label",{attrs:{title:"palletStatus"}},[e("Input",{attrs:{placeholder:"palletStatus"},model:{value:t.palletStatus,callback:function(a){t.palletStatus=a},expression:"palletStatus"}}),e("Input",{attrs:{placeholder:"palletsReserve"},model:{value:t.palletsReserve,callback:function(a){t.palletsReserve=a},expression:"palletsReserve"}})],1)]),t.showLinkTo?e("div",{staticStyle:{"text-align":"right","margin-top":"20px"}},[e("Button",{attrs:{type:"primary"},on:{click:t.GotoLink}},[t._v("跳转")])],1):t._e()])],1)},D=[],_=(e("99af4"),e("ac1f"),e("1276"),e("cdeb")),S=e("2f50"),L=e("5efb"),w=e("b558"),k=(e("03e4"),{name:"Select",components:{Card:_["a"],Cascader:S["a"],Button:L["a"],Input:w["a"]},data:function(){return{showLinkTo:!1,linkUrl:"",configId:0,palletStatus:"MdcPlc_3_StackPalletStatus",palletsReserve:"MdcPlc_3_StackPalletsReserve",showParams:!1,options:[{value:"比依(0072)",label:"比依(0072)",children:[{value:"table",label:"表",children:[{value:"Line_0072_1",label:"线头"}]}]},{value:"比依(0082)",label:"比依(0082)",children:[{value:"table",label:"表",children:[{value:"Line_0082_1",label:"1线头"},{value:"Line_0082_2",label:"2线头"}]},{value:"stack",label:"码垛",children:[{value:"Line_0082_3",label:"3线尾"}]}]},{value:"新宝(0091)",label:"新宝(0091)",children:[{value:"XinBaoCT",label:"传统款",children:[{value:"Line_Q3L5_CT_1",label:"1线线头"},{value:"Line_Q3L5_CT_1-test",label:"1线线头-测试"},{value:"Line_Q3L5_CT_1-w",label:"1线线尾"}]},{value:"XinBaoYF",label:"研发款",children:[{value:"Line_Q3L5_YF_1",label:"1线线头"},{value:"Line_Q3L5_YF_1-w",label:"1线线尾"},{value:"Line_Q3L5_YF_2",label:"2线线头"},{value:"Line_Q3L5_YF_2-w",label:"2线线尾"}]},{value:"XinBaoJP",label:"浸泡款",children:[{value:"Line_Q3L5_JP_1",label:"1线线头"},{value:"Line_Q3L5_JP_1-w",label:"1线线尾"},{value:"Line_Q3L5_JP_2",label:"2线线头"},{value:"Line_Q3L5_JP_2-w",label:"2线线尾"}]}]},{value:"德昌(0095)",label:"德昌(0095)",children:[{value:"DeChangItem",label:"线头",children:[{value:"Line_0095_1",label:"1线"}]},{value:"DeChangItem2",label:"线尾",children:[{value:"Line_0095_1",label:"1线"}]}]},{value:"通用(every)",label:"通用(every)",children:[{value:"UniversalTable",label:"线体",children:[{value:"UniversalTable",label:"Go"}]},{value:"universalStack",label:"码垛",children:[{value:"universalStack",label:"Go"}]}]}]}},mounted:function(){},methods:{SelectChange:function(t){if(this.showParams=!1,console.log(t),t.length){switch(this.showLinkTo=!0,t[1]){case"stack":this.showParams=!0;break;case"XinBaoCT":this.showParams="Line_Q3L5_CT_1-w"===t[2];break;case"XinBaoYF":"Line_Q3L5_YF_1-w"!==t[2]&&"Line_Q3L5_YF_2-w"!==t[2]||(this.showParams=!0);break;case"XinBaoJP":"Line_Q3L5_JP_1-w"!==t[2]&&"Line_Q3L5_JP_2-w"!==t[2]||(this.showParams=!0);break}console.error(t),t[2].split("-w").length>1?this.linkUrl="".concat(t[1],"W?datasource=").concat(t[2].split("-w")[0]):t[2].split("-test").length>1?this.linkUrl="".concat(t[1],"T?datasource=").concat(t[2],"&configId=").concat(this.configId):this.linkUrl="".concat(t[1],"?datasource=").concat(t[2]),console.error(this.linkUrl)}else this.showLinkTo=!1,this.linkUrl="";console.log(this.linkUrl)},GotoLink:function(){var t="";t=this.showParams?"".concat(this.linkUrl,"&palletStatus=").concat(this.palletStatus,"&palletsReserve=").concat(this.palletsReserve):this.linkUrl,this.$router.push({path:t})}}}),T=k,F=Object(r["a"])(T,y,D,!1,null,"adfdc240",null),O=F.exports,I=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"select-new-content"},[e("Card",{staticStyle:{width:"600px"},attrs:{title:"选择页面-跳转"}},[e("div",{staticStyle:{"text-align":"center"}},[e("div",{staticStyle:{"text-align":"left"}},[t._v("URL地址:")]),e("label",{attrs:{title:"地址"}},[e("Input",{model:{value:t.$root.$data.store.devUrl,callback:function(a){t.$set(t.$root.$data.store,"devUrl",a)},expression:"$root.$data.store.devUrl"}})],1)]),e("div",{staticStyle:{"text-align":"center","margin-top":"10px"}},[e("div",{staticStyle:{"text-align":"left"}},[t._v("显示方式:")]),e("Cascader",{staticStyle:{width:"100%"},attrs:{defaultValue:[t.displayOptions[0].value],options:t.displayOptions},on:{change:t.SelectDisplay}})],1),e("div",{staticStyle:{"text-align":"center","margin-top":"10px"}},[e("div",{staticStyle:{"text-align":"left"}},[t._v("样式选择:")]),e("Cascader",{staticStyle:{width:"100%"},attrs:{options:t.options},on:{change:t.SelectChange}})],1),e("div",{staticStyle:{"text-align":"center","margin-top":"10px"}},[e("div",{staticStyle:{"text-align":"left"}},[t._v("额外参数: ")]),e("div",{staticStyle:{"margin-top":"10px"}},[e("div",[e("div",{staticStyle:{"text-align":"right","margin-right":"10px"}},[t._v("configId")]),e("div",[e("label",{attrs:{title:"configId"}},[e("Input",{attrs:{placeholder:"configId 参数"},model:{value:t.configId,callback:function(a){t.configId=a},expression:"configId"}})],1)])]),e("div",{staticStyle:{"margin-top":"10px"}},[e("div",{staticStyle:{"text-align":"right","margin-right":"10px"}},[t._v("optional")]),e("div",[e("label",{attrs:{title:"optional"}},[e("Select",{staticStyle:{width:"100%"},attrs:{mode:"multiple",placeholder:"optional 参数"},on:{change:t.optionalChange}},t._l(t.optional,(function(a){return e("SelectOption",{key:"optional-"+a,attrs:{value:a}},[t._v(" "+t._s(a)+" ")])})),1)],1)])]),e("div",{staticStyle:{"margin-top":"10px"}},[e("div",{staticStyle:{"text-align":"right","margin-right":"10px"}},[t._v("protocolNames")]),t.protocolNames.length?e("div",{staticStyle:{"text-align":"left",color:"#2f54eb",cursor:"pointer","text-decoration":"underline",width:"60px"},on:{click:t.AddProtocolNames}},[t._v("添加参数")]):t._e(),t.protocolNames.length?e("div",{staticStyle:{"max-height":"200px","overflow-y":"auto"}},t._l(t.protocolNames,(function(a,i){return e("div",{key:"protocolNamesItem-"+i,staticStyle:{display:"flex","flex-direction":"row","margin-top":"5px"}},[e("div",{staticStyle:{width:"calc(100% - 42px)","margin-right":"10px"}},[e("label",{attrs:{title:"protocolNames-"+i}},[e("Input",{attrs:{placeholder:"protocolNames 参数"},model:{value:t.protocolNames[i],callback:function(a){t.$set(t.protocolNames,i,a)},expression:"protocolNames[protocolNamesIndex]"}})],1)]),e("div",{staticStyle:{width:"32px",height:"32px","line-height":"32px",color:"red","font-size":"30px",cursor:"pointer"},on:{click:function(e){return t.DeleteProtocolNames(a,i)}}},[t._v(" × ")])])})),0):e("div",{staticStyle:{width:"100%",height:"80px",cursor:"pointer","box-sizing":"border-box",border:"2px solid #bababa",color:"#bababa",display:"flex","flex-direction":"column","justify-content":"center","align-items":"center"},on:{click:t.AddProtocolNames}},[e("div",{staticStyle:{"font-size":"1.6em"}},[t._v("添加参数")])])]),e("div",{staticStyle:{"margin-top":"10px"}},[e("div",{staticStyle:{"text-align":"right","margin-right":"10px"}},[t._v("produceSize")]),e("div",[e("label",{attrs:{title:"produceSize"}},[e("Input",{attrs:{placeholder:"produceSize 参数"},model:{value:t.produceSize,callback:function(a){t.produceSize=a},expression:"produceSize"}})],1)])])])]),e("div",{staticClass:"show-url",staticStyle:{"margin-top":"10px","text-align":"left"}},[e("div",[t._v("跳转url")]),e("div",{staticStyle:{"word-break":"break-all",color:"#2f54eb","text-decoration":"underline"}},[t._v(t._s(t.allUrl))])]),e("div",{staticStyle:{"text-align":"right","margin-top":"20px"}},[e("Button",{attrs:{type:"primary"},on:{click:t.GotoLink}},[t._v("跳转")])],1)])],1)},x=[],j=(e("4160"),e("159b"),e("50b6"),e("9839")),N=j["a"].Option,E={name:"SelectNew",components:{Card:_["a"],Cascader:S["a"],Button:L["a"],Input:w["a"],Select:j["a"],SelectOption:N},data:function(){return{configId:null,optional:["children","data","produce","mock","protocol"],pageUrl:"",optionalSelect:[],protocolNames:[],produceSize:null,displayOptions:[{value:"all",label:"全部（all）"},{value:"self",label:"自身（self）"},{value:"children",label:"子（children）"}],displayVal:"all",options:[{value:"bi-yi",label:"比依(new)",children:[{value:"line",label:"线体"},{value:"stack",label:"码垛"}]},{value:"xin-bao",label:"新宝(0091)",children:[{value:"all",label:"汇总"},{value:"line",label:"线体"},{value:"stack",label:"码垛"}]},{value:"universal",label:"通用(universal)",children:[{value:"line",label:"线体"},{value:"stack",label:"码垛"},{value:"line-clear",label:"线体-简"},{value:"stack-clear",label:"码垛-简"}]}]}},computed:{allUrl:function(){var t="";this.optionalSelect.forEach((function(a){t+="optional=".concat(a,"&")}));var a="";this.protocolNames.length&&this.protocolNames.forEach((function(t){a+="protocolNames=".concat(t,"&")}));var e="";return this.produceSize&&(e="produceSize=".concat(this.produceSize)),"".concat(this.pageUrl,"?dataDisplay=").concat(this.displayVal,"&configId=").concat(this.configId,"&").concat(t).concat(a).concat(e)}},methods:{optionalChange:function(t){this.optionalSelect=JSON.parse(JSON.stringify(t))},DeleteProtocolNames:function(t,a){this.$delete(this.protocolNames,a)},SelectDisplay:function(t){this.displayVal=t[0]},SelectChange:function(t){"xin-bao"===t[0]&&("all"===t[1]&&(this.pageUrl="XinBaoAll"),"line"===t[1]&&(this.pageUrl="XinBaoLine"),"stack"===t[1]&&(this.pageUrl="XinBaoStack")),"universal"===t[0]&&("line"===t[1]&&(this.pageUrl="UniversalLine"),"stack"===t[1]&&(this.pageUrl="UniversalStack"),"line-clear"===t[1]&&(this.pageUrl="UniversalLineClear"),"stack-clear"===t[1]&&(this.pageUrl="UniversalStackClear")),"bi-yi"===t[0]&&("line"===t[1]&&(this.pageUrl="BiYiLine"),"stack"===t[1]&&(this.pageUrl="BiYiStack"))},AddProtocolNames:function(){this.protocolNames.push("")},showLinkTo:function(){},GotoLink:function(){this.$router.push({path:this.allUrl})}}},$=E,q=Object(r["a"])($,I,x,!1,null,"3dc7de4e",null),P=q.exports,A=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"table-dashboard-content"},[e("div",{staticClass:"content-header"},[e("div",{staticClass:"img"},[e("img",{attrs:{src:t.imgLogo,width:"384",height:"108",alt:"#"}})]),e("div",{staticClass:"title"},[t._v(t._s(t.title))]),e("div",{staticClass:"none"})]),e("div",{staticClass:"content-body"},[e("div",{staticClass:"body-item-row"},[e("div",{staticClass:"ds-item ds-item-col1 ds-title"},[t._v(t._s(t.lineTitle))]),t._l(t.staff,(function(a){return e("div",{key:a.id,staticClass:"ds-item ds-item-col1 ds-staff"},[e("div",{staticClass:"ds-staff-ch"},[e("span",{staticStyle:{color:"rgba(0, 0, 0, 0)"}},[t._v(".")]),t._v(t._s(a.titleCh)),e("span",{staticStyle:{color:"rgba(0, 0, 0, 0)"}},[t._v(".")])]),e("div",{staticClass:"ds-staff-en"},[e("span",{staticStyle:{color:"rgba(0, 0, 0, 0)"}},[t._v(".")]),t._v(t._s(a.titleEn)),e("span",{staticStyle:{color:"rgba(0, 0, 0, 0)"}},[t._v(".")])]),e("div",{staticClass:"ds-staff-name"},[e("span",{staticStyle:{color:"rgba(0, 0, 0, 0)"}},[t._v(".")]),t._v(t._s(a.staffName)),e("span",{staticStyle:{color:"rgba(0, 0, 0, 0)"}},[t._v(".")])])])})),e("div",{staticClass:"ds-item ds-item-col1 ds-input"},[e("div",{staticClass:"ds-input-ch"},[t._v("投入总量")]),e("div",{staticClass:"ds-input-en"},[t._v("Input")]),e("div",{staticClass:"ds-input-num"},[t._v(t._s(t.inputNum))])]),e("div",{staticClass:"ds-item ds-item-col1 ds-input"},[e("div",{staticClass:"ds-input-ch"},[t._v("出勤人数")]),e("div",{staticClass:"ds-input-en"},[t._v("Attendance")]),e("div",{staticClass:"ds-input-num"},[t._v(t._s(t.attendanceNum))])]),e("div",{staticClass:"ds-item ds-item-col1 ds-input"},[e("div",{staticClass:"ds-input-ch"},[t._v("目标产量")]),e("div",{staticClass:"ds-input-en"},[t._v("Target")]),e("div",{staticClass:"ds-input-num"},[t._v(t._s(t.targetNum))])]),e("div",{staticClass:"ds-item ds-item-col1 ds-input"},[e("div",{staticClass:"ds-input-ch"},[t._v("实际产量")]),e("div",{staticClass:"ds-input-en"},[t._v("Output")]),e("div",{staticClass:"ds-input-num"},[t._v(t._s(t.outputNum))])]),e("div",{staticClass:"ds-item ds-item-col2 ds-information"},[e("div",{staticClass:"ds-information-ch"},[t._v("订单号")]),e("div",{staticClass:"ds-information-en"},[t._v("Order ID")]),e("div",{staticClass:"ds-information-num"},[t._v(t._s(t.orderId))])]),e("div",{staticClass:"ds-item ds-item-col2 ds-information"},[e("div",{staticClass:"ds-information-ch"},[t._v("机型")]),e("div",{staticClass:"ds-information-en"},[t._v("Model Type")]),e("div",{staticClass:"ds-information-num"},[t._v(t._s(t.modelType))])]),e("div",{staticClass:"ds-item ds-item-col2 ds-information"},[e("div",{staticClass:"ds-information-ch"},[t._v("品名")]),e("div",{staticClass:"ds-information-en"},[t._v("Product Name")]),e("div",{staticClass:"ds-information-num"},[t._v(t._s(t.productName))])]),e("div",{staticClass:"ds-item ds-item-col2 ds-information"},[e("div",{staticClass:"ds-information-ch"},[t._v("客户")]),e("div",{staticClass:"ds-information-en"},[t._v("Customer")]),e("div",{staticClass:"ds-information-num"},[t._v(t._s(t.customer))])])],2),e("div",{staticClass:"ds-item date-time-card"},[e("DateTime")],1),t._m(0)]),e("div",{staticClass:"content-footer"},[e("div",{style:t.showTableData.length>8?t.styleList.tableOverflow:{}},t._l(t.showTableData,(function(a){return e("div",{key:a.id,staticClass:"content-footer-row"},[null!==a.offsetDay?e("div",{staticClass:"ds-item-col2",staticStyle:{color:"#FFFFFF"}},[t._v(t._s(a.time[0])+" - "+t._s(a.time[1]))]):e("div",{staticClass:"ds-item-col2",staticStyle:{color:"#FFFFFF"}},[t._v("休息")]),e("div",{staticClass:"ds-item-col1",staticStyle:{color:"skyblue"}},[e("span",{staticStyle:{color:"rgba(0, 0, 0, 0)"}},[t._v(".")]),t._v(t._s(a.plan)),e("span",{staticStyle:{color:"rgba(0, 0, 0, 0)"}},[t._v(".")])]),e("div",{staticClass:"ds-item-col1",staticStyle:{color:"greenyellow"}},[e("span",{staticStyle:{color:"rgba(0, 0, 0, 0)"}},[t._v(".")]),t._v(t._s(a.output)),e("span",{staticStyle:{color:"rgba(0, 0, 0, 0)"}},[t._v(".")])]),e("div",{staticClass:"ds-item-col1",staticStyle:{color:"orange"}},[e("span",{staticStyle:{color:"rgba(0, 0, 0, 0)"}},[t._v(".")]),t._v(t._s(a.defect)),e("span",{staticStyle:{color:"rgba(0, 0, 0, 0)"}},[t._v(".")])]),e("div",{staticClass:"ds-item-col1",staticStyle:{color:"pink"}},[e("span",{staticStyle:{color:"rgba(0, 0, 0, 0)"}},[t._v(".")]),t._v(t._s(a.different)),e("span",{staticStyle:{color:"rgba(0, 0, 0, 0)"}},[t._v(".")])]),e("div",{staticClass:"ds-item-col1",staticStyle:{color:"peachpuff"}},[e("span",{staticStyle:{color:"rgba(0, 0, 0, 0)"}},[t._v(".")]),t._v(t._s(a.finished)),e("span",{staticStyle:{color:"rgba(0, 0, 0, 0)"}},[t._v(".")])]),e("div",{staticClass:"ds-item-col2",staticStyle:{color:"hotpink"}},[e("span",{staticStyle:{color:"rgba(0, 0, 0, 0)"}},[t._v(".")]),t._v(t._s(a.defectiveFraction)),e("span",{staticStyle:{color:"rgba(0, 0, 0, 0)"}},[t._v(".")])]),e("div",{staticClass:"ds-item-col1",staticStyle:{color:"lightgray"}},[e("span",{staticStyle:{color:"rgba(0, 0, 0, 0)"}},[t._v(".")]),t._v(t._s(a.repair)),e("span",{staticStyle:{color:"rgba(0, 0, 0, 0)"}},[t._v(".")])])])})),0)])])},U=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"body-item-row-max"},[e("div",{staticClass:"ds-item ds-item-col2 ds-table"},[e("div",{staticClass:"ds-table-ch"},[t._v("时段")]),e("div",{staticClass:"ds-table-en"},[t._v("Time")])]),e("div",{staticClass:"ds-item ds-item-col1 ds-table"},[e("div",{staticClass:"ds-table-ch"},[t._v("计划产量")]),e("div",{staticClass:"ds-table-en"},[t._v("Plan")])]),e("div",{staticClass:"ds-item ds-item-col1 ds-table"},[e("div",{staticClass:"ds-table-ch"},[t._v("实际产量")]),e("div",{staticClass:"ds-table-en"},[t._v("Output")])]),e("div",{staticClass:"ds-item ds-item-col1 ds-table"},[e("div",{staticClass:"ds-table-ch"},[t._v("不良数量")]),e("div",{staticClass:"ds-table-en"},[t._v("Defect")])]),e("div",{staticClass:"ds-item ds-item-col1 ds-table"},[e("div",{staticClass:"ds-table-ch"},[t._v("差异值")]),e("div",{staticClass:"ds-table-en"},[t._v("Different")])]),e("div",{staticClass:"ds-item ds-item-col1 ds-table"},[e("div",{staticClass:"ds-table-ch"},[t._v("完成率")]),e("div",{staticClass:"ds-table-en"},[t._v("Finished")])]),e("div",{staticClass:"ds-item ds-item-col2 ds-table"},[e("div",{staticClass:"ds-table-ch"},[t._v("不良率")]),e("div",{staticClass:"ds-table-en"},[t._v("Defective Fraction")])]),e("div",{staticClass:"ds-item ds-item-col1 ds-table"},[e("div",{staticClass:"ds-table-ch"},[t._v("维修")]),e("div",{staticClass:"ds-table-en"},[t._v("Repair")])])])}],z=(e("7db0"),e("b0c0"),e("b680"),e("1cda"),e("bc3a")),B=e.n(z),M=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"date-time-content"},[e("div",{staticClass:"date-week"},[t._v(t._s(t.date))]),e("div",{staticClass:"time"},[t._v(t._s(t.time))])])},W=[],J=(e("f714"),{name:"DateTime",data:function(){return{timeInterval:null,timeOut:null,updateBoolean:null,date:"-",time:"-",week:"-",zone:"时区 - Asia/Shanghai"}},mounted:function(){this.updateBoolean=!0,this.timeOut=!0,this.UpdateTime(),this.timeInterval&&window.clearInterval(this.timeInterval),this.timeInterval=window.setInterval(this.UpdateTime,1e3)},beforeDestroy:function(){this.updateBoolean=null,window.clearInterval(this.timeInterval),this.timeInterval=null},methods:{UpdateTime:function(){var t=new Date;switch(this.date="".concat(t.getFullYear(),"-").concat(t.getMonth()<9?"0"+(t.getMonth()+1):t.getMonth()+1,"-").concat(t.getDate()<10?"0"+t.getDate():t.getDate()),this.time="".concat(t.getHours()<10?"0"+t.getHours():t.getHours(),":").concat(t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes(),":").concat(t.getSeconds()<10?"0"+t.getSeconds():t.getSeconds()),t.getDay()){case 0:this.week="周日";break;case 1:this.week="周一";break;case 2:this.week="周二";break;case 3:this.week="周三";break;case 4:this.week="周四";break;case 5:this.week="周五";break;case 6:this.week="周六";break;default:this.week="-";break}return t=null,!1}}}),H=J,Y=Object(r["a"])(H,M,W,!1,null,"587e6fce",null),R=Y.exports,G=e("56cd"),V=e("54b6"),Q={name:"TableDashboard",components:{DateTime:R},data:function(){return{tInterval:null,tOut1:null,tOut2:null,axiosUrl:"",imgLogo:V,styleList:{tableOverflow:{animation:"table-overflow 20s infinite linear"}},title:"电子精益看板 (Lean Production Display)",lineTitle:"线名",staff:[{id:1,titleCh:"",titleEn:"",staffName:""},{id:2,titleCh:"",titleEn:"",staffName:""},{id:3,titleCh:"",titleEn:"",staffName:""}],inputNum:0,attendanceNum:0,targetNum:0,outputNum:0,orderId:"",modelType:"",productName:"",customer:"",tableData:[{id:1,time:["",""],startTime:0,endTime:0,plan:0,input:0,output:0,defect:0,different:0,finished:"0%",defectiveFraction:"0%",repair:0}],tableSimulateData:[],showTableData:[{id:1,time:["",""],startTime:0,endTime:0,plan:0,input:0,output:0,defect:0,different:0,finished:"0%",defectiveFraction:"0%",repair:0}]}},created:function(){this.tInterval=!0,console.log(this.$route),this.axiosUrl=this.$route.query.datasource},mounted:function(){this.GetDisplayParam(),this.GetDisplaySimulate(),this.tInterval&&(this.tOut1=window.setInterval(this.GetDisplayParam,this.$root.$data.store.scanTime.table),this.tOut2=window.setInterval(this.GetDisplaySimulate,this.$root.$data.store.scanTime.table))},beforeDestroy:function(){this.tInterval=null,window.clearInterval(this.tOut1),window.clearInterval(this.tOut2),this.tOut1=null,this.tOut2=null},methods:{GetDisplayOutput:function(){var t=this;B.a.get(this.$root.$data.store.devUrl+this.$root.$data.store.product+"?datasource="+this.axiosUrl).then((function(a){console.error(a.data),a.data instanceof Array&&a.data.length&&(a.data[0].datasource===t.axiosUrl?t.DialogDisplayOutput(a.data[0]):G["a"].error({message:"数据匹配错误",description:"面板数据与获取数据不匹配(data)"}))}))},GetDisplayParam:function(){var t=this;B.a.get(this.$root.$data.store.devUrl+this.$root.$data.store.displayParam+"?datasource="+this.axiosUrl).then((function(a){console.error(a.data),a.data&&a.data instanceof Object&&(a.data["showDatasource"]===t.axiosUrl?t.DialogDisplayParam(a.data):G["a"].error({message:"数据匹配错误",description:"面板数据与获取数据不匹配(param)"}))})).then((function(){return t.GetDisplayOutput()}))},GetDisplaySimulate:function(){var t=this;B.a.get(this.$root.$data.store.devUrl+this.$root.$data.store.simulate+"?datasource="+this.axiosUrl).then((function(a){console.error(a.data),a.data&&a.data instanceof Array&&a.data.length&&(a.data[0].datasource===t.axiosUrl?t.DialogSimulate(a.data[0].data):G["a"].error({message:"数据匹配错误",description:"面板数据与获取数据不匹配(mockParam)"}))}))},DialogDisplayOutput:function(t){var a=this,e=JSON.parse(JSON.stringify(t.data));e instanceof Array&&e.length&&(this.outputNum=0,this.inputNum=0,e.forEach((function(t){var e=0,i=0,s=0,n=0;t&&t["categoryList"]instanceof Array&&t["categoryList"].length&&(t["categoryList"].forEach((function(t){"SmallBox"!==t.type&&"Null"!==t.type||("Ok"===t.status&&(e+=t.count),"Repair"===t.status&&(i+=t.count),"Ng"===t.status&&(s+=t.count),"Input"===t.status&&(n+=t.count))})),a.tableData.forEach((function(l){l.startTime===t.startTime&&l.endTime===t.endTime&&(l.output=e,l.defect=s,l.repair=i,l.input=n,l.different=l.plan-e>0?l.plan-e:0,l.finished=(100*e/l.plan).toFixed(0)+"%",l.defectiveFraction=e+s+i===0?"0%":(100*s/(e+s+i)).toFixed(2)+"%",a.outputNum+=e,a.inputNum+=n)}))),e=null,i=null,s=null,n=null}))),e=null,this.showTableData=this.tableData},DialogDisplayParam:function(t){var a=this,e=JSON.parse(JSON.stringify(t));this.imgLogo=e.logoPath,this.lineTitle=e.group.name,this.title=e.title,e.staff&&e.staff instanceof Array&&e.staff.length&&(this.staff=[],e.staff.forEach((function(t,e){a.staff.push({id:e+1,titleCh:t.titleCh,titleEn:t.titleEn,staffName:t.name})})));while(this.staff.length<3)this.staff.push({id:this.staff.length+1,titleCh:"",titleEn:"",staffName:""});while(this.staff.length>3)this.staff.shift();this.attendanceNum=e["attendanceAll"];var i=0;e["dataSlot"]instanceof Array&&e["dataSlot"].length&&(this.tableData=[],e["dataSlot"].forEach((function(t,e){i+=t.target,a.tableData.push({id:e+1,offsetDay:t.offsetDay,time:(t.offsetDay,t.time),plan:null!==t.offsetDay?t.target:"",startTime:a.TimeToTimeStamp(t.time[0],null===t.offsetDay?0:t.offsetDay),endTime:a.TimeToTimeStamp(t.time[1],null===t.offsetDay?0:t.offsetDay),output:null!==t.offsetDay?0:"",input:null!==t.offsetDay?0:"",defect:null!==t.offsetDay?0:"",different:null!==t.offsetDay?0:"",finished:null!==t.offsetDay?"0%":"",defectiveFraction:null!==t.offsetDay?"0%":"",repair:null!==t.offsetDay?0:""})}))),console.log(this.showTableData),this.targetNum=i,this.orderId=e.orderCode,this.modelType=e.productModel,this.productName=e.productName,this.customer=e.orderCustomer,i=null,e=null},DialogSimulate:function(t){var a=this,e=JSON.parse(JSON.stringify(t));this.tableData.length&&e.length&&(this.tableSimulateData=[],this.tableData.forEach((function(t){var i=e.find((function(a){return t.endTime===a.endTime&&t.startTime===a.startTime}));i&&a.tableSimulateData.push({id:a.tableSimulateData.length,time:["",""],startTime:0,endTime:0,plan:0,input:0,output:0,defect:0,different:0,finished:"0%",defectiveFraction:"0%",repair:0}),i=null}))),e=null},TimeToTimeStamp:function(t,a){var e=new Date,i="".concat(e.getFullYear(),"-").concat(e.getMonth()+1,"-"),s=e.getDate()-a,n="".concat(t,":00");return e=null,new Date("".concat(i).concat(s," ").concat(n)).getTime()}}},X=Q,K=Object(r["a"])(X,A,U,!1,null,"011b73e8",null),Z=K.exports,tt=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"stack-dashboard-content"},[e("div",{staticClass:"content-header"},[e("div",{staticClass:"img"},[e("img",{attrs:{src:t.imgLogo,width:"384",height:"108",alt:"#"}})]),e("div",{staticClass:"title"},[t._v(t._s(t.title))]),e("div",{staticClass:"none"},[e("div",{staticStyle:{"font-size":"28px"}},[t._v(t._s(t.date))]),e("div",{staticStyle:{"font-size":"45px"}},[t._v(t._s(t.time))])])]),e("div",{staticClass:"content-body"},t._l(t.dataList,(function(a){return e("div",{key:"three-row-"+a.id,staticClass:"content-body-row"},[e("div",{staticClass:"content-body-row-item"},[e("div",[t._v(t._s(a.ch))]),e("div",[t._v(t._s(a.en))])]),e("div",{staticClass:"content-body-row-item"},[t._v(t._s(a.value))])])})),0)])},at=[],et=(e("a1f2"),e("54b6")),it={name:"StackDashboard",data:function(){return{tInterval:null,tOut1:null,timeOut:null,datasource:"",imgLogo:et,dtArray:["",""],date:"",time:"",title:"电子精益看板 (Lean Production Display)",lineTitle:"C1线",dataList:[{id:1,ch:"实际产量",en:"Actual Output",value:0},{id:2,ch:"产线托盘储备情况",en:"Line pallet status",value:"-"},{id:3,ch:"产线码垛满料情况",en:"Line pallets reserve",value:"-"}]}},created:function(){this.tInterval=!0,this.$route.query.datasource&&(this.datasource=this.$route.query.datasource),this.$route.query.palletStatus&&this.$route.query.palletsReserve&&(this.dtArray=[this.$route.query.palletStatus,this.$route.query.palletsReserve])},mounted:function(){this.UpdateTime(),this.GetData(),this.tInterval&&(this.tOut1=window.setInterval(this.GetData,this.$root.$data.store.scanTime.stack),this.timeOut=window.setInterval(this.UpdateTime,1e3))},beforeDestroy:function(){this.tInterval=!1,window.clearInterval(this.tOut1),window.clearInterval(this.timeOut),this.tOut1=null,this.timeOut=null},watch:{"$route.query":function(){this.datasource="",this.imgLogo=et,this.dtArray=["",""],this.date="",this.time="",this.title="电子精益看板 (Lean Production Display)",this.lineTitle="线名",this.dataList=[{id:1,ch:"实际产量",en:"Actual Output",value:0},{id:2,ch:"产线托盘储备情况",en:"Line pallet status",value:"-"},{id:3,ch:"产线码垛满料情况",en:"Line pallets reserve",value:"-"}],this.$route.query.datasource&&(this.datasource=this.$route.query.datasource),this.$route.query.palletStatus&&this.$route.query.palletsReserve&&(this.dtArray=[this.$route.query.palletStatus,this.$route.query.palletsReserve]),this.GetData()}},methods:{GetData:function(){var t=this;B.a.get(this.$root.$data.store.devUrl+this.$root.$data.store.displayParams+"?datasource=".concat(this.datasource)).then((function(a){if(a.data&&a.data instanceof Array&&a.data.length){var e=a.data;t.title=e.find((function(a){return a.datasource===t.datasource})).data.title,t.imgLogo=e.find((function(a){return a.datasource===t.datasource})).data.logoPath,e=null,console.error(a.data)}B.a.get(t.$root.$data.store.devUrl+t.$root.$data.store.product+"?datasource=".concat(t.datasource)).then((function(e){if(console.error(a.data),e.data&&e.data instanceof Array&&e.data.length){var i=e.data,s=0;i.forEach((function(t){t.data.forEach((function(t){t&&t["categoryList"]instanceof Array&&t["categoryList"].length&&t["categoryList"].forEach((function(t){"Ok"!==t.status&&"Repair"!==t.status||"SmallBox"!==t.type||(s+=t.count)}))}))})),t.dataList[0].value=s,s=null,i=null}}))})),B.a.get(this.$root.$data.store.devUrl+this.$root.$data.store.readProtocol+"?names=".concat(this.dtArray[0],"&names=").concat(this.dtArray[1])).then((function(a){if(console.error(a.data),a.data&&a.data instanceof Array&&a.data.length){var e=a.data;t.DialogData3(e),e=null}}))},DialogData3:function(t){this.dataList[1].value=this.PalletStatusDisc(t[0].data),this.dataList[2].value=this.PalletReverseDisc(t[1].data)},UpdateTime:function(){var t=new Date;this.date="".concat(t.getFullYear(),"-").concat(t.getMonth()<9?"0"+(t.getMonth()+1):t.getMonth()+1,"-").concat(t.getDate()<10?"0"+t.getDate():t.getDate()),this.time="".concat(t.getHours()<10?"0"+t.getHours():t.getHours(),":").concat(t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes(),":").concat(t.getSeconds()<10?"0"+t.getSeconds():t.getSeconds()),t=null},PalletStatusDisc:function(t){switch(t){case 0:return"空闲 Free";case 10:return"正常 Normal";case 20:return"满料 Full";default:return"未判断 UnKnow"}},PalletReverseDisc:function(t){switch(t){case 0:return"空闲 Free";case 10:return"码货中 Stacking";case 20:return"满料 Full";default:return"未判断 UnKnow"}}}},st=it,nt=Object(r["a"])(st,tt,at,!1,null,"72bb582a",null),lt=nt.exports,ot=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"by-new-table-content"},[e("div",{staticClass:"by-new-table-content-header"},[e("div",{staticClass:"by-new-table-content-image"},[e("img",{attrs:{src:t.config.image,alt:"比依logo"}})]),e("div",{staticClass:"by-new-table-content-title"},[t._v(" "+t._s(t.config.title)+" ")]),e("div",{staticClass:"by-new-table-content-time"})]),e("div",{staticClass:"by-new-table-content-body"},[e("div",[e("div",{staticClass:"by-new-table-content-body-item-row"},[e("div",{staticClass:"ds-title"},[t._v(t._s(t.porcelainConfig[0].keyCh))]),t._l(7,(function(a){return e("BYNewPorcelain",{key:"by-new-porcelain-item-"+a,attrs:{color:t.porcelainConfig[a].color,col:t.porcelainConfig[a].col,"key-ch":t.porcelainConfig[a].keyCh,"key-en":t.porcelainConfig[a].keyEn,value:t.porcelainConfig[a].value}})}))],2),e("div",{staticClass:"by-new-table-content-body-item-row"},t._l(4,(function(a){return e("BYNewPorcelain",{key:"by-new-porcelain-item-"+a,attrs:{color:t.porcelainConfig2[a-1].color,col:t.porcelainConfig2[a-1].col,"key-ch":t.porcelainConfig2[a-1].keyCh,"key-en":t.porcelainConfig2[a-1].keyEn,value:t.porcelainConfig2[a-1].value}})})),1)]),e("div",{staticClass:"ds-item date-time-card"},[e("DateTime")],1)]),e("div",{staticClass:"by-new-table-content-footer"},[e("div",{staticClass:"by-new-table-content-footer-item-row"},t._l(8,(function(a){return e("div",{key:"bi-yi-new-table-title-item-"+a,staticClass:"ds-table",style:{color:t.porcelainConfig3[a-1].color,width:t.porcelainConfig3[a-1].col?192*t.porcelainConfig3[a-1].col+"px":"192px"}},[e("div",{staticClass:"ds-table-ch"},[t._v(t._s(t.porcelainConfig3[a-1].keyCh))]),e("div",{staticClass:"ds-table-en"},[t._v(t._s(t.porcelainConfig3[a-1].keyEn))])])})),0),e("div",{staticClass:"by-new-table-content-footer-item-table"},[e("div",{style:t.tableList.length>8?t.styleList.tableOverflow:{}},t._l(t.tableList,(function(a){return e("div",{key:a.id,staticClass:"content-footer-row"},[null!==a.offsetDay?e("div",{staticClass:"ds-item-col2",staticStyle:{color:"#FFFFFF"}},[t._v(t._s(a.time[0])+" - "+t._s(a.time[1]))]):e("div",{staticClass:"ds-item-col2",staticStyle:{color:"#FFFFFF"}},[t._v("休息")]),e("div",{staticClass:"ds-item-col1",staticStyle:{color:"skyblue"}},[e("span",{staticStyle:{color:"rgba(0, 0, 0, 0)"}},[t._v(".")]),t._v(t._s(a.plan)),e("span",{staticStyle:{color:"rgba(0, 0, 0, 0)"}},[t._v(".")])]),e("div",{staticClass:"ds-item-col1",staticStyle:{color:"greenyellow"}},[e("span",{staticStyle:{color:"rgba(0, 0, 0, 0)"}},[t._v(".")]),t._v(t._s(a.output)),e("span",{staticStyle:{color:"rgba(0, 0, 0, 0)"}},[t._v(".")])]),e("div",{staticClass:"ds-item-col1",staticStyle:{color:"orange"}},[e("span",{staticStyle:{color:"rgba(0, 0, 0, 0)"}},[t._v(".")]),t._v(t._s(a.defect)),e("span",{staticStyle:{color:"rgba(0, 0, 0, 0)"}},[t._v(".")])]),e("div",{staticClass:"ds-item-col1",staticStyle:{color:"pink"}},[e("span",{staticStyle:{color:"rgba(0, 0, 0, 0)"}},[t._v(".")]),t._v(t._s(a.different)),e("span",{staticStyle:{color:"rgba(0, 0, 0, 0)"}},[t._v(".")])]),e("div",{staticClass:"ds-item-col1",staticStyle:{color:"peachpuff"}},[e("span",{staticStyle:{color:"rgba(0, 0, 0, 0)"}},[t._v(".")]),t._v(t._s(a.finished)),e("span",{staticStyle:{color:"rgba(0, 0, 0, 0)"}},[t._v(".")])]),e("div",{staticClass:"ds-item-col2",staticStyle:{color:"hotpink"}},[e("span",{staticStyle:{color:"rgba(0, 0, 0, 0)"}},[t._v(".")]),t._v(t._s(a.defectiveFraction)),e("span",{staticStyle:{color:"rgba(0, 0, 0, 0)"}},[t._v(".")])]),e("div",{staticClass:"ds-item-col1",staticStyle:{color:"lightgray"}},[e("span",{staticStyle:{color:"rgba(0, 0, 0, 0)"}},[t._v(".")]),t._v(t._s(a.repair)),e("span",{staticStyle:{color:"rgba(0, 0, 0, 0)"}},[t._v(".")])])])})),0)])])])},rt=[],ct=e("5530"),ut=(e("96cf"),e("1da1")),dt=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"by-new-porcelain-content",style:Object.assign({},t.otherStyle,{width:t.col?192*t.col+"px":"192px",backgroundColor:t.color})},[e("div",{staticClass:"by-new-porcelain-information-ch"},[t._v(t._s(t.keyCh))]),e("div",{staticClass:"by-new-porcelain-information-en"},[t._v(t._s(t.keyEn))]),e("div",{staticClass:"by-new-porcelain-information-val"},[t._v(t._s(t.value))])])},ft=[],pt=(e("a9e3"),e("5d9c"),{name:"BYNewPorcelain",props:{otherStyle:{default:function(){return{}},type:Object},col:{default:1,type:Number},color:{default:"#6F6FD9",type:String},keyCh:{default:"-",type:String},keyEn:{default:"-",type:String},value:{default:"-"}},data:function(){return{}},mounted:function(){console.warn("components -> BYNewComponents.BYNewPorcelain -> mounted")}}),mt=pt,ht=Object(r["a"])(mt,dt,ft,!1,null,"eb39f8ca",null),vt=ht.exports,gt=e("2909");e("a4d3"),e("e01a");function Ct(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,e={fullTime:null,time:null,timeStamp:null};function i(t){return t<10?"0"+t:t}var s=t.split(":"),n=new Date,l=n.getFullYear(),o=n.getMonth()+1,r=n.getDate()+a,c=s[0],u=s[1],d=s[2]?s[2]:0;return e.fullTime=l+"-"+i(o)+"-"+i(r)+" "+c+":"+u+":"+i(d),e.time=t,e.timeStamp=new Date("".concat(l,"-").concat(o,"-").concat(r," ").concat(c,":").concat(u,":").concat(d)).valueOf(),e}var bt=Ct;function yt(t){var a={type:"param data",id:null,dataSource:null,useless:{},config:{},information:{},staffList:[],attendance:{},dataList:[]};return a.id=t.id,a.useless={dataSource:t.showDatasource,group:t.group,description:t.description,showType:t.showType,showParam:t.showParam,dataType:t.dataType},a.config={title:t.title,logoPath:t.logoPath,dataOffset:t.dataOffset},a.information={dataTarget:t.dataTarget,orderCode:t.orderCode,orderNum:t.orderNum,orderCustomer:t.orderCustomer,orderDestination:t.orderDestination,productModel:t.productModel,productName:t.productName,productSpec:t.productSpec,dataHidden:t.dataHidden},t.dataHidden.forEach((function(t){a.information[t]="****"})),a.staffList=[],t.staff&&t.staff instanceof Array&&t.staff.length&&t.staff.forEach((function(t,e){a.staffList.push({id:e+1,name:t.name,titleCh:t.titleCh,titleEn:t.titleEn,contact:t.contact,image:t.image})})),a.attendance={all:t["attendanceNum"],normal:t["attendanceAll"],leave:t["attendanceLeave"],absence:t["attendanceNum"]-t["attendanceAll"]-t["attendanceLeave"]},a.dataList=[],t["dataSlot"]&&t["dataSlot"]instanceof Array&&t["dataSlot"].length&&t["dataSlot"].forEach((function(t,e){var i=t.time[0],s=t.time[1],n=t.offsetDay;a.dataList.push({id:e+1,timeStr:i+"-"+s,startTime:bt(i,n),endTime:bt(s,n),target:t.target,offsetDay:t.offsetDay})})),a}var Dt=yt;function _t(t){var a={fullTime:null,time:null,timeStamp:null};function e(t){return t<10?"0"+t:t}if(t){var i=new Date(t),s=i.getFullYear(),n=i.getMonth()+1,l=i.getDate(),o=i.getHours(),r=i.getMinutes(),c=i.getSeconds();a.fullTime=s+"-"+e(n)+"-"+e(l)+" "+e(o)+":"+e(r)+":"+e(c),a.timeStamp=t,a.time=e(o)+":"+e(r)}return a}var St=_t;function Lt(t){var a={type:"data data",dataSource:null,dataList:[]};return t.length&&t.forEach((function(t,e){var i=[];t&&t["categoryList"]&&t["categoryList"]instanceof Array&&t["categoryList"].length&&(t["categoryList"].forEach((function(t,a){i.push({id:a+1,state:t.status,type:t.type,value:t.count})})),a.dataList.push({id:e+1,startTime:St(new Date(t.startTime).valueOf()),endTime:St(new Date(t.endTime).valueOf()),timeStr:St(new Date(t.startTime)).time&&St(new Date(t.endTime)).time?St(new Date(t.startTime)).time+"-"+St(new Date(t.endTime)).time:null,productList:i}))})),a}var wt=Lt;function kt(t){var a={type:"simulate data",dataSource:null,dataList:[]};return t.length&&t.forEach((function(t,e){var i=t.time[0],s=t.time[1],n=t.offsetDay,l={id:e+1,status:t.status,type:t.type,expected:t.expected,offset:t.offset};if(a.dataList.length){var o=!1;a.dataList.forEach((function(t){t.startTime.timeStamp===bt(i,n).timeStamp&&t.endTime.timeStamp===bt(s,n).timeStamp&&(t.productList.push(l),o=!0)})),o||a.dataList.push({id:e+1,timeStr:i+"-"+s,startTime:bt(i,n),endTime:bt(s,n),type:t.status,productList:[l],target:t.expected,offset:t.offset})}else a.dataList.push({id:e+1,timeStr:i+"-"+s,startTime:bt(i,n),endTime:bt(s,n),type:t.status,productList:[l],target:t.expected,offset:t.offset})})),a}var Tt=kt;function Ft(t){return t}var Ot=Ft;function It(t,a){return xt.apply(this,arguments)}function xt(){return xt=Object(ut["a"])(regeneratorRuntime.mark((function t(a,e){var i,s,n,l,o,r,c,u,d,f,p,m,h=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return m=function(t){var a={},e=JSON.parse(JSON.stringify(t));return a.sourceName=t["sourceName"],a.configId=t.configId,a.param=Dt(e.param),a.dataList=wt(e.data),a.simulateList=Tt(e.mock),a.protocolList=Ot(e.protocol),a.children=[],e.children&&e.children instanceof Array&&e.children.length&&e.children.forEach((function(t){a.children.push(Object(ct["a"])({},m(t)))})),a},i=h.length>2&&void 0!==h[2]?h[2]:[],s=h.length>3&&void 0!==h[3]?h[3]:[],n=h.length>4&&void 0!==h[4]?h[4]:0,l=h.length>5&&void 0!==h[5]?h[5]:"",o={type:"read data"},r="",!s||s instanceof Array||(s=[s]),null===s&&(s=[]),c=["data","mock","protocol"].concat(Object(gt["a"])(s)),c instanceof Array&&c.length&&c.forEach((function(t){r+="&optional=".concat(t)})),u="",!i||i instanceof Array||(i=[i]),null===i&&(i=[]),d=Object(gt["a"])(i),d instanceof Array&&d.length&&d.forEach((function(t){u+="&protocolNames=".concat(t)})),0===i.length&&(u="&protocolNames=null"),f="",n?f+="&produceSize=".concat(n):f="&produceSize=10",p="?configId=".concat(e).concat(r).concat(f).concat(u).concat(l),t.next=22,B.a.get(a+p).then((function(t){var a=t.data;t.data&&t.data instanceof Array&&t.data.length&&(a=t.data[0]),o=Object(ct["a"])(Object(ct["a"])({},o),m(a))}));case 22:return t.abrupt("return",o);case 23:case"end":return t.stop()}}),t)}))),xt.apply(this,arguments)}var jt=It,Nt=(e("405f"),{name:"BYNewTable",components:{BYNewPorcelain:vt,DateTime:R},data:function(){return{styleList:{tableOverflow:{animation:"by-new-table-overflow 20s infinite linear"}},getDataInterval:null,pageConfig:{},porcelainConfig:[{id:1,color:"darkseagreen",keyCh:"-",keyEn:"workshop",value:"",col:1},{id:2,color:"cornflowerblue",keyCh:"",keyEn:"",value:"",col:1},{id:3,color:"cornflowerblue",keyCh:"",keyEn:"",value:"",col:1},{id:4,color:"cornflowerblue",keyCh:"",keyEn:"",value:"",col:1},{id:5,color:"rebeccapurple",keyCh:"投入总量",keyEn:"Input",value:0,col:1},{id:6,color:"rebeccapurple",keyCh:"出勤人数",keyEn:"Attendance",value:0,col:1},{id:7,color:"rebeccapurple",keyCh:"目标产量",keyEn:"Target",value:0,col:1},{id:8,color:"rebeccapurple",keyCh:"实际产量",keyEn:"Output",value:0,col:1}],porcelainConfig2:[{id:9,color:"mediumpurple",keyCh:"订单号",keyEn:"Order ID",value:"",col:2},{id:10,color:"mediumpurple",keyCh:"机型",keyEn:"Model Type",value:"",col:2},{id:11,color:"mediumpurple",keyCh:"品名",keyEn:"Product Name",value:"",col:2},{id:12,color:"mediumpurple",keyCh:"客户",keyEn:"Customer",value:"",col:2}],porcelainConfig3:[{id:1,color:"#8c939d",keyCh:"时段",keyEn:"Time",col:2},{id:2,color:"#8c939d",keyCh:"计划产量",keyEn:"Plan",col:1},{id:3,color:"#8c939d",keyCh:"实际产量",keyEn:"Output",col:1},{id:4,color:"#8c939d",keyCh:"不良数量",keyEn:"Defect",col:1},{id:5,color:"#8c939d",keyCh:"差异值",keyEn:"Different",col:1},{id:6,color:"#8c939d",keyCh:"完成率",keyEn:"Finished",col:1},{id:7,color:"#8c939d",keyCh:"不良率",keyEn:"Defective Fraction",col:2},{id:8,color:"#8c939d",keyCh:"维修",keyEn:"Repair",col:1}],config:{title:"",image:""},tableList:[]}},created:function(){console.log("views -> BYNew -> BYNewTable -> created"),this.$route.query&&(this.pageConfig.configId=this.$route.query.configId,this.pageConfig.optional=this.$route.query.optional,this.pageConfig.protocolNames=this.$route.query.protocolNames?this.$route.query.protocolNames:null,this.pageConfig.produceSize=this.$route.query.produceSize?this.$route.query.produceSize:0)},mounted:function(){console.log("views -> BYNew -> BYNewTable -> mounted"),this.getDataInterval&&(window.clearInterval(this.getDataInterval),this.getDataInterval=null),this.GetData(),this.getDataInterval=window.setInterval(this.GetData,this.$root.$data.store.scanTime.table)},beforeDestroy:function(){this.getDataInterval&&(window.clearInterval(this.getDataInterval),this.getDataInterval=null)},methods:{GetData:function(){var t=Object(ut["a"])(regeneratorRuntime.mark((function t(){var a=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("views -> BYNew -> BYNewTable -> methods -> GetData"),t.next=3,jt(this.$root.$data.store.devUrl+this.$root.$data.store.readDataUrl,this.pageConfig.configId,this.pageConfig.protocolNames).then((function(t){console.log(t),a.DialogParamData(t["param"]),a.DialogDataData(t["dataList"]),a.DialogSimulateData(t["simulateList"]),console.error(a.tableList)}));case 3:case"end":return t.stop()}}),t,this)})));function a(){return t.apply(this,arguments)}return a}(),DialogParamData:function(t){var a=this;console.log("views -> BYNew -> BYNewTable -> methods -> DialogParamData");var e=JSON.parse(JSON.stringify(t));console.log(e),this.config.title=e.config.title,this.config.image=e.config.logoPath,e.useless&&e.useless.group&&e.useless.group.name&&(this.porcelainConfig[0].keyCh=e.useless.group.name);var i=[];e.staffList&&e.staffList instanceof Array&&(e.staffList.forEach((function(t){i.push({keyCh:t.titleCh?t.titleCh:"-",keyEn:t.titleEn?t.titleEn:"-",value:t.name})})),e.staffList.length>3?i.length=3:e.staffList.length<3&&i.push({keyCh:"-",keyEn:"-",value:"-"})),i.forEach((function(t,e){a.porcelainConfig[e+1]=Object(ct["a"])(Object(ct["a"])({},a.porcelainConfig[e+1]),t)}));var s={id:1,time:["",""],startTime:{},endTime:{},plan:0,input:0,output:0,defect:0,different:0,finished:"0%",defectiveFraction:"0%",repair:0};if(this.tableList=[],this.porcelainConfig[6].value=0,e.dataList&&e.dataList instanceof Array){var n=["",""];e.dataList.forEach((function(t){t.endTime&&t.endTime.time&&t.startTime&&t.startTime.time&&(n=[t.startTime.time,t.endTime.time]),a.tableList.push(Object(ct["a"])(Object(ct["a"])({},s),{},{id:t.id,plan:t.target,time:n,startTime:t.startTime,endTime:t.endTime})),a.porcelainConfig[6].value+=t.target}))}this.porcelainConfig[5].value=e.attendance.normal,this.porcelainConfig2[0].value=e.information.orderCode,this.porcelainConfig2[1].value=e.information.productModel,this.porcelainConfig2[2].value=e.information.productName,this.porcelainConfig2[3].value=e.information.orderCustomer},DialogDataData:function(t){var a=this;console.log("views -> BYNew -> BYNewTable -> methods -> DialogDataData");var e=JSON.parse(JSON.stringify(t));console.log(e),console.warn(this.tableList),console.warn(e.dataList),e.dataList&&e.dataList instanceof Array&&e.dataList.length&&(this.porcelainConfig[4].value=0,this.porcelainConfig[7].value=0,e.dataList.forEach((function(t){a.tableList instanceof Array&&a.tableList.length&&a.tableList.forEach((function(e){if(t.startTime.timeStamp===e.startTime.timeStamp&&t.endTime.timeStamp===e.endTime.timeStamp){var i=0,s=0,n=0;t.productList.forEach((function(t){switch(t.state){case"Ok":s+=t.value;break;case"Input":i+=t.value;break;case"Ng":n+=t.value;break;default:break}})),e.input=i,e.output=s,e.defect=n,e.different=e.plan-s<=0?0:e.plan-s,e.finished=e.plan&&s?(100*s/e.plan).toFixed(0)+"%":"0%",e.defectiveFraction=s+n<=0?"0%":(100*n/(s+n)).toFixed(0)+"%",a.porcelainConfig[4].value+=i,a.porcelainConfig[7].value+=s}}))})))},DialogSimulateData:function(t){console.log("views -> BYNew -> BYNewTable -> methods -> DialogDataData");var a=JSON.parse(JSON.stringify(t));console.log(a)}}}),Et=Nt,$t=Object(r["a"])(Et,ot,rt,!1,null,"4efe6aa8",null),qt=$t.exports,Pt=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"by-new-stack-content"},[e("div",{staticClass:"by-new-stack-content-header"},[e("div",{staticClass:"by-new-stack-content-image"},[e("img",{attrs:{src:t.config.image,alt:"比依logo"}})]),e("div",{staticClass:"by-new-stack-content-title"},[t._v(" "+t._s(t.config.title)+" ")]),e("div",{staticClass:"by-new-stack-content-time"},[e("BYNewDateTime")],1)]),e("div",{staticClass:"by-new-stack-content-body"},t._l(t.dataList,(function(a){return e("div",{key:"three-row-"+a.id,staticClass:"content-body-row"},[e("div",{staticClass:"content-body-row-item"},[e("div",[t._v(t._s(a.ch))]),e("div",[t._v(t._s(a.en))])]),e("div",{staticClass:"content-body-row-item"},[t._v(t._s(a.value))])])})),0)])},At=[],Ut=(e("b64b"),e("07ac"),e("0825"),function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"by-new-date-time-content"},[e("div",{staticClass:"date-week"},[t._v(" "+t._s(t.date)+", "+t._s(t.week)+" ")]),e("div",{staticClass:"time"},[t._v(" "+t._s(t.time)+" ")])])}),zt=[],Bt=(e("c62e"),{name:"BYNewDateTime",data:function(){return{cInterval:{time:null},date:"",week:"",time:""}},mounted:function(){console.warn("components -> BYNewDateTime -> mounted"),this.UpdateTime(),this.cInterval.time&&(window.clearInterval(this.cInterval.time),this.cInterval.time=null),this.cInterval.time=window.setInterval(this.UpdateTime,1e3)},beforeDestroy:function(){console.warn("components -> BYNewDateTime -> beforeDestroy"),this.cInterval.time&&(window.clearInterval(this.cInterval.time),this.cInterval.time=null)},methods:{UpdateTime:function(){console.log("components -> BYNewDateTime -> methods -> UpdateTime");var t=new Date;switch(this.date="".concat(t.getFullYear(),"-").concat(t.getMonth()<9?"0"+(t.getMonth()+1):t.getMonth()+1,"-").concat(t.getDate()<10?"0"+t.getDate():t.getDate()),this.time="".concat(t.getHours()<10?"0"+t.getHours():t.getHours(),":").concat(t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes(),":").concat(t.getSeconds()<10?"0"+t.getSeconds():t.getSeconds()),t.getDay()){case 0:this.week="周日";break;case 1:this.week="周一";break;case 2:this.week="周二";break;case 3:this.week="周三";break;case 4:this.week="周四";break;case 5:this.week="周五";break;case 6:this.week="周六";break;default:this.week="-";break}t=null}}}),Mt=Bt,Wt=Object(r["a"])(Mt,Ut,zt,!1,null,"2036bf5d",null),Jt=Wt.exports,Ht={name:"BYNewStack",components:{BYNewDateTime:Jt},data:function(){return{pageConfig:{},config:{title:"",image:""},dataList:[{id:1,ch:"实际产量",en:"Actual Output",value:0},{id:2,ch:"产线托盘储备情况",en:"Line pallet status",value:"-"},{id:3,ch:"产线码垛满料情况",en:"Line pallets reserve",value:"-"}],palletsList:{palletStatus:"",palletsReserve:""}}},created:function(){console.log("views -> BYNew -> BYNewStack -> created"),this.$route.query&&(this.pageConfig.configId=this.$route.query.configId,this.pageConfig.optional=this.$route.query.optional,this.pageConfig.protocolNames=this.$route.query.protocolNames?this.$route.query.protocolNames:[],this.pageConfig.produceSize=this.$route.query.produceSize?this.$route.query.produceSize:0),console.error(this.$route.query.palletStatus),console.error(this.pageConfig.protocolNames),this.$route.query.palletStatus&&(this.pageConfig.protocolNames=[].concat(Object(gt["a"])(this.pageConfig.protocolNames),[this.$route.query.palletStatus]),this.palletsList.palletStatus=this.$route.query.palletStatus),this.$route.query.palletsReserve&&(this.pageConfig.protocolNames=[].concat(Object(gt["a"])(this.pageConfig.protocolNames),[this.$route.query.palletsReserve]),this.palletsList.palletsReserve=this.$route.query.palletsReserve),console.log(this.pageConfig.protocolNames)},mounted:function(){console.log("views -> BYNew -> BYNewStack -> mounted"),this.getDataInterval&&(window.clearInterval(this.getDataInterval),this.getDataInterval=null),this.GetData(),this.getDataInterval=window.setInterval(this.GetData,this.$root.$data.store.scanTime.table)},watch:{"$route.query":function(){console.log("watch -> `$route.query`"),this.$route.query&&(this.pageConfig.configId=this.$route.query.configId,this.pageConfig.optional=this.$route.query.optional,this.pageConfig.protocolNames=this.$route.query.protocolNames?this.$route.query.protocolNames:null,this.pageConfig.produceSize=this.$route.query.produceSize?this.$route.query.produceSize:0),this.$route.query.palletStatus&&(this.pageConfig.protocolNames=[].concat(Object(gt["a"])(this.pageConfig.protocolNames),[this.$route.query.palletStatus]),this.palletsList.palletStatus=this.$route.query.palletStatus),this.$route.query.palletsReserve&&(this.pageConfig.protocolNames=[].concat(Object(gt["a"])(this.pageConfig.protocolNames),[this.$route.query.palletsReserve]),this.palletsList.palletsReserve=this.$route.query.palletsReserve)}},methods:{GetData:function(){var t=Object(ut["a"])(regeneratorRuntime.mark((function t(){var a=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("views -> BYNew -> BYNewStack -> methods -> GetData"),t.next=3,jt(this.$root.$data.store.devUrl+this.$root.$data.store.readDataUrl,this.pageConfig.configId,this.pageConfig.protocolNames,["children"]).then((function(t){console.log(t),a.dataList[0].value=0,a.DialogParamData(t["param"]),a.DialogDataData(t["dataList"]),a.DialogChildrenData(t["children"]),a.DialogProtocolNamesData(t["protocolList"])}));case 3:case"end":return t.stop()}}),t,this)})));function a(){return t.apply(this,arguments)}return a}(),DialogParamData:function(t){console.log("views -> BYNew -> BYNewStack -> methods -> DialogParamData");var a=JSON.parse(JSON.stringify(t));this.config.title=a.config.title,this.config.image=a.config.logoPath},DialogDataData:function(t){var a=this;console.log("views -> BYNew -> BYNewStack -> methods -> DialogDataData");var e=JSON.parse(JSON.stringify(t));e.dataList&&e.dataList instanceof Array&&e.dataList.length&&e.dataList.forEach((function(t){t.productList&&t.productList instanceof Array&&t.productList.length&&t.productList.forEach((function(t){switch(t.state){case"Ok":a.dataList[0].value+=t.value;break;default:break}}))}))},DialogChildrenData:function(t){var a=this;console.log("views -> BYNew -> BYNewStack -> methods -> DialogChildrenData"),t.length&&t.forEach((function(t){a.DialogDataData(t["dataList"]),a.DialogChildrenData(t["children"])}))},DialogProtocolNamesData:function(t){var a=this;console.log("views -> BYNew -> BYNewStack -> methods -> DialogProtocolNamesData");var e=JSON.parse(JSON.stringify(t));e instanceof Object&&Object.keys(e).length&&Object.values(e).forEach((function(t,e){0===e&&(a.palletsList.palletStatus=t,a.dataList[1].value=a.PalletStatusDisc(t)),1===e&&(a.palletsList.palletsReserve=t,a.dataList[2].value=a.PalletReverseDisc(t))}))},PalletStatusDisc:function(t){switch(t){case 0:return"空闲 Free";case 10:return"正常 Normal";case 20:return"满料 Full";default:return"未判断 UnKnow"}},PalletReverseDisc:function(t){switch(t){case 0:return"空闲 Free";case 10:return"码货中 Stacking";case 20:return"满料 Full";default:return"未判断 UnKnow"}}}},Yt=Ht,Rt=Object(r["a"])(Yt,Pt,At,!1,null,"81ef67b4",null),Gt=Rt.exports,Vt=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"xin-bao-all-dashboard-content"},[e("div",{staticClass:"content-header"},[e("div",{staticClass:"logo"},[e("img",{attrs:{src:t.logoPath,alt:"logo"}})]),e("div",{staticClass:"title"},[t._v(t._s(t.title))]),e("div",{staticClass:"time"},[e("div",{staticClass:"time-date"},[t._v(t._s(t.dateTime.date+" "+t.dateTime.week))]),e("div",{staticClass:"time-week-time"},[t._v(t._s(t.dateTime.time))])])]),e("div",{staticClass:"content-body"},[e("div",{staticClass:"content-body-left"},[e("div",{staticClass:"information-table-content"},[e("div",{staticClass:"information-table-title"},[t._v(t._s(t.informationTable.title))]),e("div",{staticClass:"information-table-description"},[t._v(t._s(t.informationTable.description))]),e("div",{staticClass:"information-table-context"},[e("table",{attrs:{cellspacing:0,cellpadding:0,border:"1px"}},[e("tr",t._l(t.informationTable.slotList,(function(a){return e("th",{key:"information-table-slot-item-"+a},[t._v(t._s(a))])})),0),0===t.informationTable.dataList.length?e("tr",[e("td",{staticStyle:{color:"#8c939d","font-size":"40px",height:"200px","line-height":"200px"},attrs:{colspan:"11"}},[t._v("没有数据")])]):t._e(),t._l(t.informationTable.dataList,(function(a,i){return e("tr",{key:"information-table-data-list-"+i,staticClass:"information-table-tr"},t._l(a,(function(a,s){return e("td",{key:"information-table-list-"+i+"-item-"+s},[t._v(t._s(a))])})),0)}))],2)])]),e("div",{staticClass:"g2-all-output-finish-canvas-content"},[e("div",{staticClass:"g2-all-output-canvas-content"},[e("div",{staticClass:"g2-all-output-canvas-title"},[t._v(t._s(t.outputAllLine.title))]),e("div",{staticClass:"g2-all-output-canvas-description"},[t._v(t._s(t.outputAllLine.description))]),e("div",{staticClass:"g2-all-output-canvas-canvas",attrs:{id:"g2-all-output-canvas-canvas"}})]),e("div",{staticClass:"g2-all-finish-canvas-content"},[e("div",{staticClass:"g2-all-finish-canvas-title"},[t._v(t._s(t.finishAllColumn.title))]),e("div",{staticClass:"g2-all-finish-canvas-description"},[t._v(t._s(t.finishAllColumn.description))]),e("div",{staticClass:"g2-all-finish-canvas-canvas",attrs:{id:"g2-all-finish-canvas-canvas"}})])])]),e("div",{staticClass:"content-body-right"},[e("div",{staticClass:"g2-finish-all-pie-canvas-content"},[e("div",{staticClass:"g2-finish-all-pie-canvas-title"},[t._v(t._s(t.finishAllPie.title))]),e("div",{staticClass:"g2-finish-all-pie-canvas-description"},[t._v(t._s(t.finishAllPie.description))]),e("div",{staticClass:"g2-finish-all-pie-canvas-canvas",attrs:{id:"g2-finish-all-pie-canvas-canvas"}})]),e("div",{staticClass:"product-information-content"},[e("div",{staticClass:"product-information-item"},[e("div",{staticClass:"product-information-title"},[t._v("目标产量")]),e("div",{staticClass:"product-information-value"},[t._v(t._s(t.productInformation.target))])]),e("div",{staticClass:"product-information-item"},[e("div",{staticClass:"product-information-title"},[t._v("生产数量")]),e("div",{staticClass:"product-information-value"},[t._v(t._s(t.productInformation.output))])])]),e("div",{staticClass:"g2-qualify-all-pie-canvas-content"},[e("div",{staticClass:"g2-qualify-all-pie-canvas-title"},[t._v(t._s(t.qualifiedAllPie.title))]),e("div",{staticClass:"g2-qualify-all-pie-canvas-description"},[t._v(t._s(t.qualifiedAllPie.description))]),e("div",{staticClass:"g2-qualify-all-pie-canvas-canvas",attrs:{id:"g2-qualify-all-pie-canvas-canvas"}})])])])])},Qt=[],Xt=(e("a64f"),{name:"XinBaoAllDashboard",data:function(){return{pageConfig:{},updateTimeInterval:null,getDataInterval:null,title:"-",logoPath:null,dateTime:{date:"",week:"",time:""},informationTable:{title:"各产线信息",description:"各产线人员、生产信息展示表",slotList:["","拉长","PQC","出勤人数","生产型号","订单号","订单数量","目标产量","当前产量","完成比例","合格率"],dataList:[{name:"线体1",staffLZ:"拉长A",staffPQC:"PQC1",attendanceNum:20,productSpec:"ASD",orderCode:"OBJ-221",orderNum:2814,target:827,output:213,finish:"66%",qualification:"33%"},{name:"线体1",staffLZ:"拉长A",staffPQC:"PQC1",attendanceNum:20,productSpec:"ASD",orderCode:"OBJ-221",orderNum:2814,target:827,output:213,finish:"66%",qualification:"33%"},{name:"线体1",staffLZ:"拉长A",staffPQC:"PQC1",attendanceNum:20,productSpec:"ASD",orderCode:"OBJ-221",orderNum:2814,target:827,output:213,finish:"66%",qualification:"33%"},{name:"线体1",staffLZ:"拉长A",staffPQC:"PQC1",attendanceNum:20,productSpec:"ASD",orderCode:"OBJ-221",orderNum:2814,target:827,output:213,finish:"66%",qualification:"33%"},{name:"线体1",staffLZ:"拉长A",staffPQC:"PQC1",attendanceNum:20,productSpec:"ASD",orderCode:"OBJ-221",orderNum:2814,target:827,output:213,finish:"66%",qualification:"33%"}]},renderCanvas:{outputAllLine:null,finishAllColumn:null,finishAllPie:null,qualifiedAllPie:null},outputAllLine:{title:"车间产能走势图",description:"车间所有线体生产产能汇总走势图",dataList:[]},finishAllColumn:{title:"车间时段合格率详情",description:"车间每时段所有线体产能合格率汇总图",dataList:[]},finishAllPie:{title:"",description:"",dataList:{}},qualifiedAllPie:{title:"",description:"",dataList:{}},productInformation:{target:0,output:0}}},created:function(){this.$route.query&&(this.pageConfig.configId=this.$route.query.configId,this.pageConfig.protocolNames=this.$route.query.protocolNames?this.$route.query.protocolNames:null)},mounted:function(){this.updateTimeInterval&&(window.clearInterval(this.updateTimeInterval),this.updateTimeInterval=null),this.getDataInterval&&(window.clearInterval(this.getDataInterval),this.getDataInterval=null),this.UpdateTime(),this.updateTimeInterval=window.setInterval(this.UpdateTime,1e3),this.GetData()},methods:{GetData:function(){var t=Object(ut["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:B.a.get("http://localhost:1234/api/mdcDashboard/dashboard/readAll").then((function(t){console.log(t)}));case 1:case"end":return t.stop()}}),t)})));function a(){return t.apply(this,arguments)}return a}(),UpdateTime:function(){var t=new Date;switch(this.dateTime.date="".concat(t.getFullYear(),"-").concat(t.getMonth()<9?"0"+(t.getMonth()+1):t.getMonth()+1,"-").concat(t.getDate()<10?"0"+t.getDate():t.getDate()),this.dateTime.time="".concat(t.getHours()<10?"0"+t.getHours():t.getHours(),":").concat(t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes(),":").concat(t.getSeconds()<10?"0"+t.getSeconds():t.getSeconds()),t.getDay()){case 0:this.dateTime.week="周日";break;case 1:this.dateTime.week="周一";break;case 2:this.dateTime.week="周二";break;case 3:this.dateTime.week="周三";break;case 4:this.dateTime.week="周四";break;case 5:this.dateTime.week="周五";break;case 6:this.dateTime.week="周六";break;default:this.dateTime.week="-";break}t=null}}}),Kt=Xt,Zt=Object(r["a"])(Kt,Vt,Qt,!1,null,null,null),ta=Zt.exports,aa=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"xin-bao-line-dashboard-content"},[e("div",{staticClass:"content-header"},[e("div",{staticClass:"logo"},[e("img",{attrs:{src:t.logoPath,alt:"logo"}})]),e("div",{staticClass:"title"},[t._v(t._s(t.title))]),e("div",{staticClass:"time"},[e("div",{staticClass:"time-date"},[t._v(t._s(t.dateTime.date+" "+t.dateTime.week))]),e("div",{staticClass:"time-week-time"},[t._v(t._s(t.dateTime.time))])])]),e("div",{staticClass:"content-body"},[e("div",{staticClass:"content-body-left"},[e("div",{staticClass:"information-table"},[e("table",{attrs:{cellspacing:0,cellpadding:0,border:"1"}},[t._l(t.staffList,(function(a){return e("tr",{key:"staff-item-"+a.id,staticClass:"information-table-list"},[e("td",{staticClass:"information-table-item information-staff-item"},[t._v(t._s(t._f("staffDisplay")(a.titleCh,a.titleEn)))]),e("td",{staticClass:"information-table-item information-staff-item",attrs:{colspan:"2"}},[t._v(t._s(a.name))]),e("td",{staticClass:"information-table-item information-staff-item"},[t._v("联系方式")]),e("td",{staticClass:"information-table-item information-staff-item",attrs:{colspan:"2"}},[t._v(t._s(a.contact))])])})),e("tr",{staticClass:"information-table-list"},[e("td",{staticClass:"information-table-item"},[t._v("应到人数")]),e("td",{staticClass:"information-table-item"},[t._v(t._s(t.informationTable.attendance.all))]),e("td",{staticClass:"information-table-item"},[t._v("实际人数")]),e("td",{staticClass:"information-table-item"},[t._v(t._s(t.informationTable.attendance.normal))]),e("td",{staticClass:"information-table-item"},[t._v("客户名称")]),e("td",{staticClass:"information-table-item"},[t._v(t._s(t.informationTable.orderCustomer))])]),e("tr",{staticClass:"information-table-list"},[e("td",{staticClass:"information-table-item"},[t._v("生产订单号")]),e("td",{staticClass:"information-table-item"},[t._v(t._s(t.informationTable.orderCode))]),e("td",{staticClass:"information-table-item"},[t._v("产品型号")]),e("td",{staticClass:"information-table-item"},[t._v(t._s(t.informationTable.productModel))]),e("td",{staticClass:"information-table-item"},[t._v("产品规格")]),e("td",{staticClass:"information-table-item"},[t._v(t._s(t.informationTable.productSpec))])]),e("tr",{staticClass:"information-table-list"},[e("td",{staticClass:"information-table-item"},[t._v("订单数量")]),e("td",{staticClass:"information-table-item"},[t._v(t._s(t.informationTable.orderNum))]),e("td",{staticClass:"information-table-item"},[t._v("投入数量")]),e("td",{staticClass:"information-table-item"},[t._v(t._s(t.informationTable.inputNum))]),e("td",{staticClass:"information-table-item"},[t._v("销售目的地")]),e("td",{staticClass:"information-table-item"},[t._v(t._s(t.informationTable.orderDestination))])])],2)]),e("div",{staticClass:"inp-out-table"},[e("table",{attrs:{cellspacing:0,cellpadding:0,border:"1"}},[e("tr",{staticClass:"inp-out-table-timer-list"},[e("th",{staticClass:"inp-out-table-timer-title"},[t._v("时间段")]),t._l(t.productTable,(function(a){return e("th",{key:"inp-out-table-timer-item-"+a.id,staticClass:"inp-out-table-timer-item",style:null===a.offsetDay?{width:"100px"}:{}},[null===a.offsetDay?e("span",[t._v("休息")]):e("span",[t._v(t._s(a.timeStr))])])}))],2),e("tr",{staticClass:"inp-out-table-target-list"},[e("td",{staticClass:"inp-out-table-target-title"},[t._v("目标数量")]),t._l(t.productTable,(function(a){return e("td",{key:"inp-out-table-target-item-"+a.id,staticClass:"inp-out-table-target-item"},[t._v(" "+t._s(null===a.offsetDay?null:a.target)+" ")])}))],2),e("tr",{staticClass:"inp-out-table-input-list"},[e("td",{staticClass:"inp-out-table-input-title"},[t._v("投入数量")]),t._l(t.productTable,(function(a){return e("td",{key:"inp-out-table-input-item-"+a.id,staticClass:"inp-out-table-input-item"},[t._v(" "+t._s(null===a.offsetDay?null:a.input)+" ")])}))],2),e("tr",{staticClass:"inp-out-table-output-list"},[e("td",{staticClass:"inp-out-table-output-title"},[t._v("实际数量")]),t._l(t.productTable,(function(a){return e("td",{key:"inp-out-table-output-item-"+a.id,staticClass:"inp-out-table-output-item",staticStyle:{color:"#FFFFFF"}},[t._v(" "+t._s(null===a.offsetDay?null:a.output)+" ")])}))],2),e("tr",{staticClass:"inp-out-table-useless-list"},[e("td",{staticClass:"inp-out-table-useless-title"},[t._v("不良数量")]),t._l(t.productTable,(function(a){return e("td",{key:"inp-out-table-useless-item-"+a.id,staticClass:"inp-out-table-useless-item",staticStyle:{color:"#FFFFFF"}},[t._v(" "+t._s(null===a.offsetDay?null:a.useless)+" ")])}))],2),e("tr",{staticClass:"inp-out-table-percent-list"},[e("td",{staticClass:"inp-out-table-percent-title"},[t._v("合格率")]),t._l(t.productTable,(function(a){return e("td",{key:"inp-out-table-percent-item-"+a.id,staticClass:"inp-out-table-percent-item",staticStyle:{color:"#FFFFFF"}},[t._v(" "+t._s(null===a.offsetDay?null:a.percent+"%")+" ")])}))],2)])]),e("div",{staticClass:"g2-output-finish-canvas-content"},[e("div",{staticClass:"g2-output-canvas-content"},[e("div",{staticClass:"g2-output-canvas-title"},[t._v(t._s(t.outputLine.title))]),e("div",{staticClass:"g2-output-canvas-description"},[t._v(t._s(t.outputLine.description))]),e("div",{staticClass:"g2-output-canvas-canvas",attrs:{id:"g2-output-canvas-canvas"}})]),e("div",{staticClass:"g2-finish-canvas-content"},[e("div",{staticClass:"g2-finish-canvas-title"},[t._v(t._s(t.finishColumn.title))]),e("div",{staticClass:"g2-finish-canvas-description"},[t._v(t._s(t.finishColumn.description))]),e("div",{staticClass:"g2-finish-canvas-canvas",attrs:{id:"g2-finish-canvas-canvas"}})])])]),e("div",{staticClass:"content-body-right"},[e("div",{staticClass:"g2-plan-pie-canvas-content"},[e("div",{staticClass:"g2-plan-pie-canvas-title"},[t._v(t._s(t.planPie.title))]),e("div",{staticClass:"g2-plan-pie-canvas-description"},[t._v(t._s(t.planPie.description))]),e("div",{staticClass:"g2-plan-pie-canvas-canvas",attrs:{id:"g2-plan-pie-canvas-canvas"}})]),e("div",{staticClass:"product-information-content"},[e("div",{staticClass:"product-information-item"},[e("div",{staticClass:"product-information-title"},[t._v("计划产量")]),e("div",{staticClass:"product-information-value"},[t._v(t._s(t.productInformation.plan))])]),e("div",{staticClass:"product-information-item"},[e("div",{staticClass:"product-information-title"},[t._v("完成产量")]),e("div",{staticClass:"product-information-value"},[t._v(t._s(t.productInformation.finish))])]),e("div",{staticClass:"product-information-item"},[e("div",{staticClass:"product-information-title"},[t._v("待生产")]),e("div",{staticClass:"product-information-value"},[t._v(t._s(t.productInformation.unFinish))])])]),e("div",{staticClass:"g2-quality-pie-canvas-content"},[e("div",{staticClass:"g2-quality-pie-canvas-title"},[t._v(t._s(t.qualityPie.title))]),e("div",{staticClass:"g2-quality-pie-canvas-description"},[t._v(t._s(t.qualityPie.description))]),e("div",{staticClass:"g2-quality-pie-canvas-canvas",attrs:{id:"g2-quality-pie-canvas-canvas"}})]),e("div",{staticClass:"product-information-content"},[e("div",{staticClass:"product-information-item"},[e("div",{staticClass:"product-information-title"},[t._v("合格数量")]),e("div",{staticClass:"product-information-value"},[t._v(t._s(t.productInformation.qualification))])]),e("div",{staticClass:"product-information-item"},[e("div",{staticClass:"product-information-title"},[t._v("不合格数量")]),e("div",{staticClass:"product-information-value"},[t._v(t._s(t.productInformation.unQualification))])])])])])])},ea=[],ia=(e("82ae"),e("99af")),sa={name:"XinBaoLineDashboard",data:function(){return{pageConfig:{},updateTimeInterval:null,getDataInterval:null,simObj:{},title:"",logoPath:null,dateTime:{date:"",week:"",time:""},renderCanvas:{outputLine:null,finishColumn:null,planPie:null,qualityPie:null},informationTable:{staff:[],attendance:{all:0,normal:0,leave:0,absence:0},orderCode:null,orderCustomer:null,orderDestination:null,orderNum:0,inputNum:0,productModel:null,productName:null,productSpec:null,dataHidden:[]},productInformation:{},productTable:[],outputLine:{title:"产能走势趋势",description:"各时段生产产能走势折线图",data:[]},finishColumn:{title:"产能完成率详情",description:"各时段生产产能完成率柱状图",data:[]},planPie:{title:"计划完成比例",description:"当天计划完成比例饼图",data:{}},qualityPie:{title:"品质状况",description:"当天产能品质状况饼图",data:{}}}},computed:{staffList:function(){var t=JSON.parse(JSON.stringify(this.informationTable.staff));if(t.length<=5)for(var a=5-t.length;a>0;a--)t.push({id:t.length+1,name:"",titleCh:"",titleEn:"",contact:""});else for(var e=t.length;e>5;e--)t.pop();return t}},filters:{staffDisplay:function(t,a){return t&&a?"".concat(t,"(").concat(a,")"):t||(a||"-")}},created:function(){this.$route.query&&(this.pageConfig.configId=this.$route.query.configId,this.pageConfig.protocolNames=this.$route.query.protocolNames?this.$route.query.protocolNames:null),console.error(this.pageConfig)},mounted:function(){this.updateTimeInterval&&(window.clearInterval(this.updateTimeInterval),this.updateTimeInterval=null),this.getDataInterval&&(window.clearInterval(this.getDataInterval),this.getDataInterval=null),this.UpdateTime(),this.updateTimeInterval=window.setInterval(this.UpdateTime,1e3),this.GetData(),this.getDataInterval=window.setInterval(this.GetData,this.$root.$data.store.scanTime.table)},beforeDestroy:function(){this.updateTimeInterval&&(window.clearInterval(this.updateTimeInterval),this.updateTimeInterval=null),this.getDataInterval&&(window.clearInterval(this.getDataInterval),this.getDataInterval=null),document.getElementById("g2-output-canvas-canvas").innerHTML="",document.getElementById("g2-finish-canvas-canvas").innerHTML="",document.getElementById("g2-plan-pie-canvas-canvas").innerHTML="",document.getElementById("g2-quality-pie-canvas-canvas").innerHTML=""},methods:{GetData:function(){var t=Object(ut["a"])(regeneratorRuntime.mark((function t(){var a=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,jt(this.$root.$data.store.devUrl+this.$root.$data.store.readDataUrl,this.pageConfig.configId,this.pageConfig.protocolNames).then((function(t){a.DialogParamData(t["param"]),a.DialogDataData(t["dataList"]),a.DialogSimulateData(t["simulateList"]),a.CreateUpdateG2OutputLine(a.outputLine.data),a.CreateUpdateG2FinishColumn(a.finishColumn.data),a.CreateUpdateG2PlanPie(a.planPie.data),a.CreateUpdateG2QualityPie(a.qualityPie.data)})).catch((function(t){console.error(t)}));case 2:case"end":return t.stop()}}),t,this)})));function a(){return t.apply(this,arguments)}return a}(),DialogParamData:function(t){var a=this,e=JSON.parse(JSON.stringify(t));this.title=e.config.title,this.logoPath=e.config.logoPath,this.informationTable.attendance=Object(ct["a"])({},e.attendance),this.informationTable.staff=e.staffList,this.informationTable=Object(ct["a"])(Object(ct["a"])({},this.informationTable),e.information),this.informationTable.dataHidden.length&&this.informationTable.dataHidden.forEach((function(t){a.informationTable[t]&&(a.informationTable[t]="-")})),this.productTable=[],this.outputLine.data=[],this.outputLine.data=[],this.finishColumn.data=[];var i=0;e.dataList.forEach((function(t){a.productTable.push(Object(ct["a"])(Object(ct["a"])({},t),{},{input:0,output:0,useless:0,percent:0})),a.outputLine.data.push(Object(ct["a"])(Object(ct["a"])({},t),{},{offsetDay:t.offsetDay,timeStr:t.timeStr,target:t.target,value:0})),a.finishColumn.data.push(Object(ct["a"])(Object(ct["a"])({},t),{},{offsetDay:t.offsetDay,timeStr:t.timeStr,value:0})),i+=t.target})),this.planPie.data={plan:i,finishVal:0,unFinishVal:0},this.qualityPie.data={all:0,qualificationVal:0,unQualificationVal:0},this.productInformation={plan:i,finish:0,unFinish:0,qualification:0,unQualification:0}},DialogDataData:function(t){var a=JSON.parse(JSON.stringify(t));if(console.warn(this.productTable),console.warn(t["dataList"]),this.productTable.length&&this.productTable.forEach((function(t){a.dataList.forEach((function(a){if(t.startTime.timeStamp===a.startTime.timeStamp&&t.endTime.timeStamp===a.endTime.timeStamp&&(t.data=Object(ct["a"])({},a),a.productList&&a.productList instanceof Array&&a.productList.length)){var e=0,i=0,s=0;a.productList.forEach((function(t){switch(t.state){case"Ok":i+=t.value;break;case"Input":e+=t.value;break;case"Ng":s+=t.value;break;default:break}})),t.input=e,t.output=i,t.useless=s,t.percent=i+s<=0?0:(100*i/(i+s)).toFixed(0)}}))})),this.outputLine.data.length&&this.outputLine.data.forEach((function(t){a.dataList.forEach((function(a){if(t.startTime.timeStamp===a.startTime.timeStamp&&t.endTime.timeStamp===a.endTime.timeStamp){var e=0;a.productList.forEach((function(t){"Ok"===t.state&&(e+=t.value)})),t.value=e}}))})),this.finishColumn.data.length&&this.finishColumn.data.forEach((function(t){a.dataList.forEach((function(a){if(t.startTime.timeStamp===a.startTime.timeStamp&&t.endTime.timeStamp===a.endTime.timeStamp){var e=0,i=0;a.productList.forEach((function(t){"Ok"===t.state&&(e+=t.value)})),t.value=0===i||0===e?0:i<e?100:1*(e/i*100).toFixed(1)}}))})),this.productTable.length){var e,i=0,s=0;this.productTable.forEach((function(t){i+=t.target,s+=t.output})),e=s>i?0:i-s,this.planPie.data={plan:i,finishVal:s,unFinishVal:e}}if(this.productTable.length){var n=0,l=0;this.productTable.forEach((function(t){n+=t.output,l+=t.useless})),this.qualityPie.data={all:n+l,qualificationVal:n,unQualificationVal:l}}if(this.productTable.length){var o,r=0,c=0,u=0,d=0;this.productTable.forEach((function(t){r+=t.target,c+=t.output,u+=t.output,d+=t.useless})),o=c>r?0:r-c,this.$set(this.productInformation,"plan",r),this.$set(this.productInformation,"finish",c),this.$set(this.productInformation,"unFinish",o),this.$set(this.productInformation,"qualification",u),this.$set(this.productInformation,"unQualification",d)}},DialogSimulateData:function(t){var a=this,e=JSON.parse(JSON.stringify(t)),i=(new Date).valueOf();if(this.productTable.length&&e.dataList&&e.dataList instanceof Array&&e.dataList.length){this.productTable.forEach((function(t){e.dataList.forEach((function(e){if(t.startTime.timeStamp===e.startTime.timeStamp&&t.endTime.timeStamp===e.endTime.timeStamp&&e.productList&&e.productList instanceof Array&&e.productList.length){var s=0,n=0,l=0;e.productList.forEach((function(o){if(i>=e.startTime.timeStamp&&i<=e.endTime.timeStamp){a.simObj.startTimeStamp===e.startTime.timeStamp&&a.simObj.endTimeStamp===e.endTime.timeStamp||(a.simObj.startTimeStamp=e.startTime.timeStamp,a.simObj.endTimeStamp=e.endTime.timeStamp,a.simObj.input={},a.simObj.output={},a.simObj.useless={});var r=1*((e.endTime.timeStamp-i)/a.$root.$data.store.scanTime.simulateTime).toFixed(0);switch(o.status){case"Ok":n=1*((o.expected-o.offset-t.output)/r).toFixed(2),a.simObj.output.target=o.expected,a.simObj.output.offset=o.offset,(!n||n<0)&&(n=0),a.simObj.output.addNum?a.simObj.output.addNum+=n:a.simObj.output.addNum=o.offset+t.output+n,a.simObj.output.addNum+t.output>o.expected?(a.simObj.output.addNum-=n,t.output+=a.simObj.output.addNum):t.output+=a.simObj.output.addNum,t.output=1*t.output.toFixed(0);break;case"Input":s=1*((o.expected-o.offset-t.input)/r).toFixed(2),a.simObj.input.target=o.expected,a.simObj.input.offset=o.offset,(!s||s<0)&&(s=0),a.simObj.input.addNum?a.simObj.input.addNum+=s:a.simObj.input.addNum=o.offset+t.input+s,a.simObj.input.addNum+t.input>o.expected?(a.simObj.input.addNum-=s,t.input+=a.simObj.input.addNum):t.input+=a.simObj.input.addNum,t.input=1*t.input.toFixed(0);break;case"Ng":l=1*((o.expected-o.offset-t.useless)/r).toFixed(2),a.simObj.useless.target=o.expected,a.simObj.useless.offset=o.offset,(!l||l<0)&&(l=0),a.simObj.useless.addNum?a.simObj.useless.addNum+=l:a.simObj.useless.addNum=o.offset+t.useless+l,a.simObj.useless.addNum+t.useless>o.expected?(a.simObj.useless.addNum-=l,t.useless+=a.simObj.useless.addNum):t.useless+=a.simObj.useless.addNum,t.useless=1*t.useless.toFixed(0);break;default:break}0===t.output?t.percent=0:t.percent=t.output>t.useless+t.output?100:100*(t.output/(t.useless+t.output)).toFixed(2)}if(i>e.startTime.timeStamp&&i>e.endTime.timeStamp){switch(o.status){case"Ok":n+=o.expected;break;case"Input":s+=o.expected;break;case"Ng":l+=o.expected;break;default:break}t.input=t.input>s?t.input:s,t.output=t.output>n?t.output:n,t.useless=t.useless>l?t.useless:l,0===t.output?t.percent=0:t.percent=t.output>t.useless+t.output?100:100*(t.output/(t.useless+t.output)).toFixed(2)}if(i<e.startTime.timeStamp&&i<e.endTime.timeStamp)return!1}))}}))}));var s=0,n=0,l=0,o=0,r=0;this.outputLine.data=[],this.finishColumn.data=[],this.planPie.data={},this.qualityPie.data={},this.productInformation={},this.productTable.forEach((function(t){var e;a.outputLine.data.push({offsetDay:t.offsetDay,timeStr:t.timeStr,target:t.target,value:t.output}),e=0===t.target||0===t.output?0:t.target<t.output?100:1*(t.output/t.target*100).toFixed(1),a.finishColumn.data.push({offsetDay:t.offsetDay,timeStr:t.timeStr,value:e}),s+=t.target,n+=t.output,l=s<n?0:s-n,o+=t.output,r+=t.useless})),this.planPie.data={plan:s,finishVal:n,unFinishVal:l},this.qualityPie.data={all:o+r,qualificationVal:o,unQualificationVal:r},this.productInformation={plan:s,finish:n,unFinish:l,qualification:o,unQualification:0},this.$set(this.productInformation,"unQualification",r)}},CreateUpdateG2OutputLine:function(t){var a=JSON.parse(JSON.stringify(t)),e=this,i=100;function s(){e.renderCanvas.outputLine=new ia["DualAxes"]("g2-output-canvas-canvas",{data:[a,a],animation:!1,autoFit:!0,xField:"timeStr",yField:["value","target"],padding:[20,20,45,50],geometryOptions:[{geometry:"column",color:"yellow",label:{position:"middle",style:{fill:"black",fontWeight:"bold"}}},{geometry:"line",label:{align:"top",style:{fill:"orangered"}},point:{size:3,style:{fill:"orangered",stroke:"orangered",lineWidth:2}},color:"orangered",lineStyle:{lineWidth:2,stroke:"orangered"}}],xAxis:{line:{style:{stroke:"#FFFFFF",lineWidth:2}},label:{style:{fill:"#FFFFFF",fontWeight:"bold",fontSize:16},autoHide:!1,autoRotate:!0,formatter:function(t){return t.split("休息").length>1?"休息":t}}},yAxis:[{min:0,max:100,line:{style:{stroke:"#FFFFFF",lineWidth:2}},title:{text:"产能",style:{fill:"#FFFFFF",fontSize:24}},label:{style:{fill:"#FFFFFF",fontSize:18,fontWeight:"bold"},formatter:function(t){return t}}},{min:0,max:i,label:{formatter:function(){return""}}}],legend:{position:"top-right"},label:{style:{fontSize:12,fill:"rgba(255, 255, 255, 1)"},formatter:function(t){return console.log(t),0===t.value?null:t.value}},meta:{timeStr:{alias:"时间"},value:{alias:"数量"},target:{alias:"目标"}}}),e.renderCanvas.outputLine.render()}a.forEach((function(t){null===t.offsetDay&&(t.timeStr="休息 "+t.timeStr),i=t.value>i?t.value:i,i=t.target>i?t.target:i})),""!==document.getElementById("g2-output-canvas-canvas").innerHTML?(this.renderCanvas.outputLine.destroy(),s()):s()},CreateUpdateG2FinishColumn:function(t){var a=JSON.parse(JSON.stringify(t));a.forEach((function(t){null===t.offsetDay&&(t.timeStr="休息 "+t.timeStr),t.value>100&&(t.value=100)})),""===document.getElementById("g2-finish-canvas-canvas").innerHTML?(this.renderCanvas.finishColumn=new ia["Column"]("g2-finish-canvas-canvas",{data:a,animation:!1,autoFit:!0,xField:"timeStr",yField:"value",padding:[30,40,90,100],label:{position:"middle",style:{fontWeight:"bold",fill:"black",fontSize:16},formatter:function(t){return 0===t.value?null:t.value+"%"}},xAxis:{line:{style:{stroke:"#FFFFFF",lineWidth:2}},label:{style:{fill:"#FFFFFF",fontWeight:"bold",fontSize:16},autoHide:!1,autoRotate:!0,formatter:function(t){return t.split("休息").length>1?"休息":t}}},yAxis:{min:0,max:100,line:{style:{stroke:"#FFFFFF",lineWidth:2}},title:{text:"完成率",style:{fill:"#FFFFFF",fontSize:24}},label:{style:{fill:"#FFFFFF",fontSize:18,fontWeight:"bold"},formatter:function(t){return t+"%"}}},meta:{timeStr:{alias:"时间"},value:{alias:"完成率"}},legend:{position:"top-right"},color:"yellow"}),this.renderCanvas.finishColumn.render()):this.renderCanvas.finishColumn.changeData(a)},CreateUpdateG2PlanPie:function(t){var a=JSON.parse(JSON.stringify(t)),e=[{name:"已完成",value:a.finishVal},{name:"未完成",value:a.unFinishVal}];""===document.getElementById("g2-plan-pie-canvas-canvas").innerHTML?(this.renderCanvas.planPie=new ia["Pie"]("g2-plan-pie-canvas-canvas",{data:e,animation:!1,autoFit:!0,colorField:"name",angleField:"value",radius:.7,label:{type:"inner",offset:"-0.5",content:function(t){var a=t.name,e=t.percent;return"".concat(a," ").concat((100*e).toFixed(0),"%")},style:{fill:"#fff",fontSize:14,textAlign:"center"}},tooltip:!1,legend:!1,pieStyle:function(t){var a=t.name;return"已完成"===a?{fill:"rgb(6, 192, 95)"}:"未完成"===a?{fill:"rgb(233, 108, 91)"}:void 0}}),this.renderCanvas.planPie.render()):this.renderCanvas.planPie.changeData(e)},CreateUpdateG2QualityPie:function(t){var a=JSON.parse(JSON.stringify(t)),e=[{name:"合格",value:a.qualificationVal},{name:"不合格",value:a.unQualificationVal}];""===document.getElementById("g2-quality-pie-canvas-canvas").innerHTML?(this.renderCanvas.qualityPie=new ia["Pie"]("g2-quality-pie-canvas-canvas",{data:e,animation:!1,autoFit:!0,colorField:"name",angleField:"value",radius:.7,label:{type:"inner",offset:"-0.5",content:function(t){var a=t.name,e=t.percent;return"".concat(a," ").concat((100*e).toFixed(0),"%")},style:{fill:"#fff",fontSize:14,textAlign:"center"}},tooltip:!1,legend:!1,pieStyle:function(t){var a=t.name;return"合格"===a?{fill:"rgb(6, 192, 95)"}:"不合格"===a?{fill:"rgb(233, 108, 91)"}:void 0}}),this.renderCanvas.qualityPie.render()):this.renderCanvas.qualityPie.changeData(e)},UpdateTime:function(){var t=new Date;function a(t){return"0"+t}var e=t.getFullYear(),i=t.getMonth()<9?a(t.getMonth()+1):t.getMonth()+1,s=t.getDate()<10?a(t.getDate()):t.getDate(),n=t.getHours()<10?a(t.getHours()):t.getHours(),l=t.getMinutes()<10?a(t.getMinutes()):t.getMinutes(),o=t.getSeconds()<10?a(t.getSeconds()):t.getSeconds();switch(this.dateTime.date=e+"-"+i+"-"+s,this.dateTime.time=n+":"+l+":"+o,t.getDay()){case 0:this.dateTime.week="周日";break;case 1:this.dateTime.week="周一";break;case 2:this.dateTime.week="周二";break;case 3:this.dateTime.week="周三";break;case 4:this.dateTime.week="周四";break;case 5:this.dateTime.week="周五";break;case 6:this.dateTime.week="周六";break;default:this.dateTime.week="-";break}}}},na=sa,la=Object(r["a"])(na,aa,ea,!1,null,null,null),oa=la.exports,ra=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"xin-bao-stack-dashboard-content"},[e("div",{staticClass:"content-header"},[e("img",{attrs:{id:"logo",src:t.logoPath,alt:"#"}}),e("div",{staticClass:"title"},[t._v(t._s(t.title))]),e("div",{staticClass:"date-time"},[e("div",{staticClass:"date"},[t._v(t._s(t.dateTime.date))]),e("div",{staticClass:"week"},[t._v(t._s(t.dateTime.week))]),e("div",{staticClass:"time"},[t._v(t._s(t.dateTime.time))])])]),e("div",{staticClass:"content-body"},[e("div",{staticClass:"status-list"},t._l(t.statusList,(function(a){return e("div",{key:"status-item-"+a.id,staticClass:"status-item"},[e("div",{staticClass:"status-item-title-cn"},[t._v(t._s(a.ch))]),e("div",{staticClass:"status-item-title-en"},[t._v(t._s(a.en))]),1===a.id?e("div",{staticClass:"status-item-title-val"},[t._v(t._s(a.value))]):t._e(),2===a.id?e("div",{staticClass:"status-item-title-val"},[t._v(t._s(a.value))]):t._e(),3===a.id?e("div",{staticClass:"status-item-title-val"},[t._v(t._s(t._f("PalletStatusDisc")(a.value)))]):t._e(),4===a.id?e("div",{staticClass:"status-item-title-val"},[t._v(t._s(t._f("PalletReverseDisc")(a.value)))]):t._e()])})),0),e("div",{staticClass:"table-g2-list"},[e("div",{staticClass:"g2-inp-out-chart-content"},[e("div",{staticClass:"title"},[t._v(t._s(t.inpOutData.title))]),e("div",{staticClass:"description"},[t._v(t._s(t.inpOutData.description))]),e("div",{attrs:{id:"g2-inp-out-chart"}})]),e("div",{staticClass:"table-list"},[e("div",{staticClass:"title"},[t._v(t._s(t.inpOutTable.title))]),e("div",{staticClass:"description"},[t._v(t._s(t.inpOutTable.description))]),e("table",{attrs:{id:"inp-out-table","cell-spacing":"0","cell-pendding":"0",border:"1px"}},[e("tr",[e("th",{staticClass:"inp-out-table-time-title"},[t._v("时间")]),t._l(t.inpOutTable.dataList,(function(a){return e("th",{key:"inp-out-table-item-"+a.id,staticClass:"inp-out-table-time-item"},[a.param?e("div",[t._v(t._s(null===a.param.offsetDay?"休息":""))]):t._e(),t._v(" "+t._s(a.time)+" ")])}))],2),e("tr",[e("td",{staticClass:"inp-out-table-inp-title"},[t._v("投入数量")]),t._l(t.inpOutTable.dataList,(function(a){return e("td",{key:"inp-out-table-item-"+a.id,staticClass:"inp-out-table-inp-item"},[t._v(" "+t._s(a.input)+" ")])}))],2),e("tr",[e("td",{staticClass:"inp-out-table-out-title"},[t._v("产出数量")]),t._l(t.inpOutTable.dataList,(function(a){return e("td",{key:"inp-out-table-item-"+a.id,staticClass:"inp-out-table-out-item"},[t._v(" "+t._s(a.output)+" ")])}))],2),e("tr",[e("td",{staticClass:"inp-out-table-percent-title"},[t._v("产出占比")]),t._l(t.inpOutTable.dataList,(function(a){return e("td",{key:"inp-out-table-item-"+a.id,staticClass:"inp-out-table-percent-item"},[t._v(" "+t._s(a.percent)+" ")])}))],2)])]),e("div",{staticClass:"g2-inp-out-waterfall-content"},[e("div",{staticClass:"g2-inp-waterfall-content"},[e("div",{staticClass:"title"},[t._v(t._s(t.inpWaterfallData.title))]),e("div",{staticClass:"description"},[t._v(t._s(t.inpWaterfallData.description))]),e("div",{attrs:{id:"g2-inp-waterfall"}})]),e("div",{staticClass:"g2-out-waterfall-content"},[e("div",{staticClass:"title"},[t._v(t._s(t.outWaterfallData.title))]),e("div",{staticClass:"description"},[t._v(t._s(t.outWaterfallData.description))]),e("div",{attrs:{id:"g2-out-waterfall"}})])])])])])},ca=[],ua=(e("8682"),{name:"XinBaoStackDashboard",data:function(){return{pageConfig:{},updateTimeInterval:null,getDataInterval:null,simObj:{},title:"",logoPath:null,dateTime:{date:"",week:"",time:""},renderCanvas:{line:null,inpWaterfall:null,outWaterfall:null},statusList:[{id:1,ch:"实际投入总量",en:"Actual Input",value:0},{id:2,ch:"实际产出总量",en:"Actual Output",value:0},{id:3,ch:"产线托盘储备情况",en:"Line pallet status",value:"-"},{id:4,ch:"产线码垛满料情况",en:"Line pallets reserve",value:"-"}],inpOutData:{title:"投入-产出 趋势图",description:"当日 投入-产出 多折线趋势图",dataList:[]},inpOutTable:{title:"投入-产出 详情表",description:"当日各时间段 投入-产出-占比 详细表",dataList:[]},inpWaterfallData:{title:"投入数量 瀑布表",description:"当日各时段 投入数量 详细瀑布表",dataList:[]},outWaterfallData:{title:"产出数量 瀑布表",description:"当日各时段 产出数量 详细瀑布表",dataList:[]}}},filters:{PalletStatusDisc:function(t){switch(t){case 0:return"空闲 Free";case 10:return"正常 Normal";case 20:return"满料 Full";default:return"未判断 UnKnow"}},PalletReverseDisc:function(t){switch(t){case 0:return"空闲 Free";case 10:return"码货中 Stacking";case 20:return"满料 Full";default:return"未判断 UnKnow"}}},created:function(){this.$route.query&&(this.pageConfig.configId=this.$route.query.configId,this.pageConfig.optional=this.$route.query.optional,this.pageConfig.protocolNames=this.$route.query.protocolNames?this.$route.query.protocolNames:null,this.pageConfig.produceSize=this.$route.query.produceSize?this.$route.query.produceSize:0)},mounted:function(){this.updateTimeInterval&&(window.clearInterval(this.updateTimeInterval),this.updateTimeInterval=null),this.getDataInterval&&(window.clearInterval(this.getDataInterval),this.getDataInterval=null),this.UpdateTime(),this.updateTimeInterval=window.setInterval(this.UpdateTime,1e3),this.GetData(),this.getDataInterval=window.setInterval(this.GetData,this.$root.$data.store.scanTime.stack)},beforeDestroy:function(){this.updateTimeInterval&&(window.clearInterval(this.updateTimeInterval),this.updateTimeInterval=null),this.getDataInterval&&(window.clearInterval(this.getDataInterval),this.getDataInterval=null),document.getElementById("g2-inp-out-chart").innerHTML="",document.getElementById("g2-inp-waterfall").innerHTML="",document.getElementById("g2-out-waterfall").innerHTML=""},methods:{GetData:function(){var t=Object(ut["a"])(regeneratorRuntime.mark((function t(){var a=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,jt(this.$root.$data.store.devUrl+this.$root.$data.store.readDataUrl,this.pageConfig.configId,this.pageConfig.protocolNames).then((function(t){a.DialogParamData(t["param"]),a.DialogDataData(t["dataList"]),a.DialogSimulateData(t["simulateList"]),a.DialogProtocolNamesData(t["protocolList"]),a.CreateG2InpOutChart(a.inpOutData.dataList),a.CreateG2InpWaterfall(a.inpWaterfallData.dataList),a.CreateG2OutWaterfall(a.outWaterfallData.dataList)})).catch((function(t){console.error(t)}));case 2:case"end":return t.stop()}}),t,this)})));function a(){return t.apply(this,arguments)}return a}(),DialogParamData:function(t){var a=this,e=JSON.parse(JSON.stringify(t));this.title=e.config.title,this.logoPath=e.config.logoPath,this.inpOutData.dataList=[],this.inpOutTable.dataList=[],this.inpWaterfallData.dataList=[],this.outWaterfallData.dataList=[],e.dataList&&e.dataList instanceof Array&&e.dataList.length&&e.dataList.forEach((function(t,e){var i={param:Object(ct["a"])({},t),time:t.timeStr,timeStr:null===t.offsetDay?"休息\n"+t.timeStr:t.timeStr,offsetDay:t.offsetDay,value:null===t.offsetDay?null:0};a.inpOutData.dataList.push(Object(ct["a"])(Object(ct["a"])({},i),{},{type:"input",typeStr:"投入数量"}),Object(ct["a"])(Object(ct["a"])({},i),{},{type:"output",typeStr:"产出数量"})),a.inpOutTable.dataList.push({id:e+1,param:Object(ct["a"])({},t),time:t.timeStr,timeStr:null===t.offsetDay?"休息\n"+t.timeStr:t.timeStr,input:null===t.offsetDay?null:0,output:null===t.offsetDay?null:0,percent:null===t.offsetDay?null:"0%"}),a.inpWaterfallData.dataList.push({param:Object(ct["a"])({},t),id:e+1,time:null===t.offsetDay?"休息 "+t.timeStr:t.timeStr,value:0}),a.outWaterfallData.dataList.push({param:Object(ct["a"])({},t),id:e+1,time:null===t.offsetDay?"休息"+t.timeStr:t.timeStr,value:0})}))},DialogDataData:function(t){var a=JSON.parse(JSON.stringify(t));if(this.inpOutData.dataList.length&&this.inpOutData.dataList.forEach((function(t){a.dataList.forEach((function(a){if(t.param.startTime.timeStamp===a.startTime.timeStamp&&t.param.endTime.timeStamp===a.endTime.timeStamp&&(t.data=Object(ct["a"])({},a),a.productList&&a.productList instanceof Array&&a.productList.length)){var e=0,i=0;switch(a.productList.forEach((function(t){"Input"===t.state&&(e+=t.value),"Ok"===t.state&&(i+=t.value)})),t.type){case"input":t.value=e;break;case"output":t.value=i;break;default:break}}}))})),this.inpOutTable.dataList.length&&this.inpOutTable.dataList.forEach((function(t){a.dataList.forEach((function(a){if(t.param.startTime.timeStamp===a.startTime.timeStamp&&t.param.endTime.timeStamp===a.endTime.timeStamp&&(t.data=Object(ct["a"])({},a),a.productList&&a.productList instanceof Array&&a.productList.length)){var e=0,i=0;a.productList.forEach((function(t){"Input"===t.state&&(e+=t.value),"Ok"===t.state&&(i+=t.value)})),t.input=e,t.output=i,t.percent=0===e||0===i?"0%":null===e||null===i?null:i>e?"100%":100*(i/e).toFixed(1)+"%"}}))})),this.inpWaterfallData.dataList.length&&this.inpWaterfallData.dataList.forEach((function(t){a.dataList.forEach((function(a){if(t.param.startTime.timeStamp===a.startTime.timeStamp&&t.param.endTime.timeStamp===a.endTime.timeStamp&&(t.data=Object(ct["a"])({},a),a.productList&&a.productList instanceof Array&&a.productList.length)){var e=0;a.productList.forEach((function(t){"Input"===t.state&&(e+=t.value)})),t.value=e}}))})),this.outWaterfallData.dataList.length&&this.outWaterfallData.dataList.forEach((function(t){a.dataList.forEach((function(a){if(t.param.startTime.timeStamp===a.startTime.timeStamp&&t.param.endTime.timeStamp===a.endTime.timeStamp&&(t.data=Object(ct["a"])({},a),a.productList&&a.productList instanceof Array&&a.productList.length)){var e=0;a.productList.forEach((function(t){"Ok"===t.state&&(e+=t.value)})),t.value=e}}))})),a.dataList.length){var e=0,i=0;a.dataList.forEach((function(t){t.productList&&t.productList instanceof Array&&t.productList.length&&t.productList.forEach((function(t){"Input"===t.state&&(i+=t.value),"Ok"===t.state&&(e+=t.value)}))})),this.statusList[0].value=i,this.statusList[1].value=e}},DialogSimulateData:function(t){var a=this,e=JSON.parse(JSON.stringify(t)),i=(new Date).valueOf();this.inpOutTable.dataList&&this.inpOutTable.dataList instanceof Array&&this.inpOutTable.dataList.length&&e.dataList&&e.dataList instanceof Array&&e.dataList.length&&(this.inpOutTable.dataList.forEach((function(t){e.dataList.forEach((function(e){if(t.param.startTime.timeStamp===e.startTime.timeStamp&&t.param.endTime.timeStamp===e.endTime.timeStamp&&e.productList&&e.productList instanceof Array&&e.productList.length){var s=0,n=0;e.productList.forEach((function(l){if(i>=e.startTime.timeStamp&&i<e.endTime.timeStamp){a.simObj.startTimeStamp===e.startTime.timeStamp&&a.simObj.endTimeStamp===e.endTime.timeStamp||(a.simObj.startTimeStamp=e.startTime.timeStamp,a.simObj.endTimeStamp=e.endTime.timeStamp,a.simObj.input={},a.simObj.output={});var o=1*((e.endTime.timeStamp-i)/a.$root.$data.store.scanTime.simulateTime).toFixed(0);switch(l.status){case"Ok":n=1*((l.expected-l.offset-t.output)/o).toFixed(2),a.simObj.output.target=l.expected,a.simObj.output.offset=l.offset,(!n||n<0)&&(n=0),a.simObj.output.addNum?a.simObj.output.addNum+=n:a.simObj.output.addNum=l.offset+t.output+n,a.simObj.output.addNum+t.output>l.expected?(a.simObj.output.addNum-=n,t.output+=a.simObj.output.addNum):t.output+=a.simObj.output.addNum,t.output=1*t.output.toFixed(0);break;case"Input":s=1*((l.expected-l.offset-t.input)/o).toFixed(2),a.simObj.input.target=l.expected,a.simObj.input.offset=l.offset,(!s||s<0)&&(s=0),a.simObj.input.addNum?a.simObj.input.addNum+=s:a.simObj.input.addNum=l.offset+t.input+s,a.simObj.input.addNum+t.input>l.expected?(a.simObj.input.addNum-=s,t.input+=a.simObj.input.addNum):t.input+=a.simObj.input.addNum,t.input=1*t.input.toFixed(0);break;default:break}0===t.input||0===t.output?t.percent="0%":null===t.input||null===t.output?t.percent=null:t.percent=t.output>t.input?"100%":100*(t.output/t.input).toFixed(1)+"%"}if(i>e.startTime.timeStamp&&i>e.endTime.timeStamp){switch(l.status){case"Ok":n+=l.expected;break;case"Input":s+=l.expected;break;default:break}t.input=t.input>s?t.input:s,t.output=t.output>n?t.output:n,0===t.input||0===t.output?t.percent="0%":null===t.input||null===t.output?t.percent=null:t.percent=t.output>t.input?"100%":100*(t.output/t.input).toFixed(1)+"%"}if(i<e.startTime.timeStamp&&i<e.endTime.timeStamp)return!1}))}}))})),this.inpOutData.dataList=[],this.inpWaterfallData.dataList=[],this.outWaterfallData.dataList=[],this.statusList[0].value=0,this.statusList[1].value=0,this.inpOutTable.dataList.forEach((function(t){var e={param:Object(ct["a"])({},t.param),time:t.timeStr,timeStr:null===t.offsetDay?"休息\n"+t.timeStr:t.timeStr,offsetDay:t.offsetDay};a.inpOutData.dataList.push(Object(ct["a"])(Object(ct["a"])({},e),{},{type:"input",typeStr:"投入数量",value:t.input}),Object(ct["a"])(Object(ct["a"])({},e),{},{type:"output",typeStr:"产出数量",value:t.output})),a.inpWaterfallData.dataList.push({param:Object(ct["a"])({},t.param),time:null===t.offsetDay?"休息 "+t.timeStr:t.timeStr,value:null===t.offsetDay?null:t.input}),a.outWaterfallData.dataList.push({param:Object(ct["a"])({},t.param),time:null===t.offsetDay?"休息"+t.timeStr:t.timeStr,value:null===t.offsetDay?null:t.output}),a.statusList[0].value+=t.input,a.statusList[1].value+=t.output})))},DialogProtocolNamesData:function(t){var a=this;if(console.error(t),t&&t instanceof Object&&Object.keys(t).length){var e=Object.keys(t);e.forEach((function(e){e.split("StackPalletStatus").length>1&&a.$set(a.statusList[2],"value",t[e]),e.split("StackPalletsReserve").length>1&&a.$set(a.statusList[3],"value",t[e])}))}},CreateG2InpOutChart:function(t){""===document.getElementById("g2-inp-out-chart").innerHTML?(this.renderCanvas.line=new ia["Line"]("g2-inp-out-chart",{data:t,animation:!1,autoFit:!0,legend:{position:"top-right"},label:{style:{fontSize:12,fill:"rgba(0,0,0,1)"}},meta:{timeStr:{alias:"时间"},value:{alias:"数量"}},xField:"timeStr",xAxis:{title:{style:{fontSize:18,fontWeight:"bold"}},line:{style:{stroke:"#cacaca",lineWidth:2}},label:{style:{fill:"black",fontWeight:"bold"}}},yField:"value",yAxis:{title:{style:{fontSize:18,fontWeight:"bold"}},min:0,line:{style:{stroke:"#cacaca",lineWidth:2}},label:{style:{fill:"black",fontWeight:"bold"}}},seriesField:"typeStr"}),this.renderCanvas.line.render()):this.renderCanvas.line.changeData(t)},CreateG2InpWaterfall:function(t){""===document.getElementById("g2-inp-waterfall").innerHTML?(this.renderCanvas.inpWaterfall=new ia["Waterfall"]("g2-inp-waterfall",{data:t,animation:!1,autoFit:!0,xField:"time",yField:"value",legend:{position:"top-left"},label:{style:{fontSize:12,fill:"rgba(0,0,0,1)"}},xAxis:{tickInterval:1,label:{formatter:function(t){return t.split("休息").length>1?"休息":t},autoHide:!1,style:{fill:"#444444",fontSize:12}}},meta:{time:{alias:"时间"},value:{alias:"数量"}},total:{label:"总数",style:{fill:"skyblue"}}}),this.renderCanvas.inpWaterfall.render()):this.renderCanvas.inpWaterfall.changeData(t)},CreateG2OutWaterfall:function(t){""===document.getElementById("g2-out-waterfall").innerHTML?(this.renderCanvas.outWaterfall=new ia["Waterfall"]("g2-out-waterfall",{data:t,animation:!1,autoFit:!0,xField:"time",yField:"value",legend:{position:"top-left"},label:{style:{fontSize:12,fill:"rgba(0,0,0,1)"}},xAxis:{tickInterval:1,label:{formatter:function(t){return t.split("休息").length>1?"休息":t},autoHide:!1,style:{fill:"#444444",fontSize:12}}},yAxis:{},meta:{time:{alias:"时间"},value:{alias:"数量"}},total:{label:"总数",style:{fill:"skyblue"}}}),this.renderCanvas.outWaterfall.render()):this.renderCanvas.outWaterfall.changeData(t)},UpdateTime:function(){var t=new Date;switch(this.dateTime.date="".concat(t.getFullYear(),"-").concat(t.getMonth()<9?"0"+(t.getMonth()+1):t.getMonth()+1,"-").concat(t.getDate()<10?"0"+t.getDate():t.getDate()),this.dateTime.time="".concat(t.getHours()<10?"0"+t.getHours():t.getHours(),":").concat(t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes(),":").concat(t.getSeconds()<10?"0"+t.getSeconds():t.getSeconds()),t.getDay()){case 0:this.dateTime.week="周日";break;case 1:this.dateTime.week="周一";break;case 2:this.dateTime.week="周二";break;case 3:this.dateTime.week="周三";break;case 4:this.dateTime.week="周四";break;case 5:this.dateTime.week="周五";break;case 6:this.dateTime.week="周六";break;default:this.dateTime.week="-";break}t=null}}}),da=ua,fa=Object(r["a"])(da,ra,ca,!1,null,null,null),pa=fa.exports,ma=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"dc-dashboard-content"},[e("div",{staticClass:"dashboard-header"},[e("div",{staticClass:"logo-content"},[e("img",{staticClass:"logo",attrs:{src:t.DCLogo,alt:"logo",width:"226px",height:"113px"}})]),e("div",{staticClass:"title-content"},[e("div",{staticClass:"title-ch"},[t._v(t._s(t.titleCh))]),e("div",{staticClass:"title-en"},[t._v(t._s(t.titleEn))])]),e("div",{staticClass:"line-name"},[t._v(t._s(t.lineName))]),e("div",{staticClass:"time-content"},[e("div",{staticClass:"time"},[t._v("当前时间: "+t._s(t.time))])])]),e("div",{staticClass:"dashboard-body"},[e("div",{staticClass:"dashboard-body-left"},[e("div",{staticClass:"staff-content"},t._l(t.staffData,(function(a){return e("div",{key:"staffItem"+a.id,staticClass:"staff-item"},[e("div",{staticClass:"staff-logo"},[e("img",{attrs:{src:a.logo,alt:"header image"}})]),e("div",{staticClass:"staff-information"},[e("div",{staticClass:"staff-information-work"},[e("div",{staticClass:"staff-information-work-title"},[t._v(t._s(t._f("staffDisplay")(a.titleCh,a.titleEn)))]),e("div",{staticClass:"staff-information-work-name"},[t._v(t._s(a.name?a.name:"-"))])]),e("div",{staticClass:"staff-information-phone"},[e("div",{staticClass:"staff-information-phone-title"},[t._v("电话")]),e("div",{staticClass:"staff-information-phone-number"},[t._v(t._s(a.contact?a.contact:"-"))])])])])})),0),e("div",{staticClass:"note-content"},[e("div",{staticClass:"note-title"},[t._v("注意事项")]),e("div",{staticClass:"note-context"},[e("pre",{staticStyle:{"font-size":"20px",padding:"10px 0"}},[t._v(t._s(t.description))]),t._l(t.noteList,(function(a){return e("div",{key:"noteItem"+a.id,staticClass:"note-item"},[e("div",[t._v(t._s(a.id)+":")]),e("div",[t._v(t._s(a.context))])])}))],2)])]),e("div",{staticClass:"dashboard-body-right"},[e("div",{staticClass:"table-content"},[e("table",{attrs:{cellspacing:"1",cellpadding:"1"}},[e("tr",t._l(t.tableData,(function(a){return e("td",{key:"tableDataItem"+a.id},[e("div",{staticClass:"table-title-ch"},[t._v(t._s(a.tableTitleCh))]),e("div",{staticClass:"table-title-en"},[t._v(t._s(a.tableTitleEn))])])})),0),e("tr",t._l(t.tableData,(function(a){return e("td",{key:"tableDataValue"+a.id},[e("div",{staticClass:"table-item-context"},[t._v(t._s(a.value))]),a.secValue?e("div",[t._v(" - ")]):t._e(),a.secValue?e("div",{staticClass:"table-item-context"},[t._v(" "+t._s(a.secValue)+" ")]):t._e()])})),0)])]),e("div",{staticClass:"data-content"},[e("div",{staticClass:"data-content-table"},[e("table",[t._m(0),t._l(t.tableListData,(function(a){return e("tr",{key:"tableListItem"+a.id},[e("td",{style:a.output>a.plan?t.styleList.unTarget:{}},[e("span",{staticStyle:{color:"orangered"}},[t._v(t._s(t._f("offsetShow")(a.offsetDay)))]),t._v(" "+t._s(a.time[0]+" - "+a.time[1])+" ")]),e("td",{style:a.output>a.plan?t.styleList.unTarget:{}},[t._v(t._s(a.output))]),e("td",{style:a.output>a.plan?t.styleList.unTarget:{}},[t._v(t._s(a.plan))]),e("td",{style:a.output>a.plan?t.styleList.unTarget:{}},[t._v(t._s(a.difficult))])])}))],2)]),t._m(1)])])])])},ha=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("tr",[e("th",[t._v("时间段")]),e("th",[t._v("数量")]),e("th",[t._v("目标")]),e("th",[t._v("差异")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"data-content-column-line"},[e("div",{attrs:{id:"data-column-line"}})])}],va=(e("d3b7"),e("25f0"),e("b71e"),e("1659")),ga=e("5c08"),Ca={color:"red"},ba={name:"DCDashboard",data:function(){return{DCLogo:va,PDLogo:ga,tInterval:null,tOut1:null,tOut2:null,dualAxes:null,dualAxesNum:0,styleList:{unTarget:Ca},axiosUrl:"",titleCh:"生产线管理看板",titleEn:"Production line information public column",lineName:"J线",productScanTime:0,time:"2020/11/09  14:29:26",staffData:[{id:0,titleCh:"组长",titleEn:"",name:"XXX",contact:"13198765432",logo:""},{id:1,titleCh:"拉长",titleEn:"",name:"XXX",contact:"13312345678",logo:""}],tableData:[{id:0,tableTitleCh:"订单号",tableTitleEn:"Purchase Order",value:"",secValue:""},{id:1,tableTitleCh:"客户",tableTitleEn:"Customer",value:"",secValue:""},{id:2,tableTitleCh:"产品名",tableTitleEn:"Part Name",value:"",secValue:""},{id:3,tableTitleCh:"规格型号",tableTitleEn:"Specification",value:"",secValue:""},{id:4,tableTitleCh:"计划数量",tableTitleEn:"Planned quantity",value:0,secValue:""},{id:5,tableTitleCh:"完成数量",tableTitleEn:"Completion quantity",value:0,secValue:""},{id:6,tableTitleCh:"完成率",tableTitleEn:"Completion",value:"0.00%",secValue:""}],tableListData:[{id:0,time:["",""],timeString:"",startTime:0,endTime:0,plan:0,input:0,output:0,defect:0,finished:"0%",number:132,order:120,difficult:12,defectiveFraction:"0%",repair:0}],noteList:[],description:"",DualData:[]}},computed:{scanTime:function(){if(this.productScanTime<0||0===this.productScanTime)return"0分0秒";var t=parseInt((this.productScanTime/60).toString()),a=this.productScanTime%60<10?"0"+this.productScanTime%60:this.productScanTime%60;return"".concat(t,"分").concat(a,"秒")}},filters:{staffDisplay:function(t,a){return t&&a?"".concat(t,"(").concat(a,")"):t||(a||"-")},offsetShow:function(t){return 0===t?"":-1===t?"昨天":1===t?"明天":t<-1?"前".concat(t,"天"):t>1?"后".concat(t,"天"):"休息"}},created:function(){this.tInterval=!0,this.axiosUrl=this.$route.query.datasource},mounted:function(){this.UpdateTime(),this.GetDisplayParam(),this.tOut1&&window.clearInterval(this.tOut1),this.tOut1=window.setInterval(this.GetDisplayParam,this.$root.$data.store.scanTime.table),this.tOut2&&window.clearInterval(this.tOut2),this.tOut2=window.setInterval(this.UpdateTime,1e3),this.CreateCanvas()},beforeDestroy:function(){this.tInterval=null,window.clearInterval(this.tOut1),window.clearInterval(this.tOut2),this.tOut1=null,this.tOut2=null},methods:{GetDisplayParam:function(){var t=this;B.a.get(this.$root.$data.store.devUrl+this.$root.$data.store.displayParam+"?datasource="+this.axiosUrl).then((function(a){console.log(a.data),a.data["showDatasource"]&&(a.data["showDatasource"]&&a.data["showDatasource"]===t.axiosUrl?(t.DialogDisplayOutput(a.data),t.dualAxesMax(t.tableListData),t.GetDisplayData()):G["a"].error({message:"数据匹配错误",description:"面板数据与获取数据不匹配(data)"}))}))},DialogDisplayOutput:function(t){var a=this,e=JSON.parse(JSON.stringify(t));this.titleCh=e.title,this.titleEn="Production line information public column",this.lineName=e.group?e.group.name:"产线",this.description=e.description?e.description:"",this.productScanTime=e.group&&e.group["productScanTime"]?e.group["productScanTime"]:0;for(var i=[e.orderCode,e.orderCustomer,e.productName,e.productSpec,e["dataTarget"],0,"0%"],s=["","","",e.productModel,"","",""],n=0;n<this.tableData.length;n++)this.tableData[n].value=i[n],this.tableData[n].secValue=s[n];this.DCLogo=e.logoPath,this.PDLogo=e["productPath"],e["dataSlot"]&&e["dataSlot"]instanceof Array&&e["dataSlot"].length&&(this.tableListData=[],e["dataSlot"].forEach((function(t,e){a.tableListData.push({id:e+1,offsetDay:t.offsetDay,time:(t.offsetDay,t.time),plan:null!==t.offsetDay?t.target:"",startTime:a.TimeToTimeStamp(t.time[0],null===t.offsetDay?0:t.offsetDay),endTime:a.TimeToTimeStamp(t.time[1],null===t.offsetDay?0:t.offsetDay),timeString:null!==t.offsetDay?"".concat(t.time[0],"-").concat(t.time[1]):"休息",output:null!==t.offsetDay?0:"",input:null!==t.offsetDay?0:"",defect:null!==t.offsetDay?0:"",difficult:null!==t.offsetDay?0:"",finished:null!==t.offsetDay?"0%":"",defectiveFraction:null!==t.offsetDay?"0%":"",repair:null!==t.offsetDay?0:""})}))),e.staff&&e.staff instanceof Array&&e.staff.length&&(this.staffData=[],e.staff.forEach((function(t,e){a.staffData.push({id:e,titleEn:t.titleEn,titleCh:t.titleCh,name:t.name,contact:t.contact,logo:t.image?t.image:null})})));while(2!==this.staffData.length)this.staffData.length>2?this.staffData.shift():this.staffData.push({id:this.staffData.length,titleEn:"-",titleCh:"-",name:"-",contact:"-",logo:null});i=null},GetDisplayData:function(){var t=this;B.a.get(this.$root.$data.store.devUrl+this.$root.$data.store.product+"?datasource="+this.axiosUrl).then((function(a){if(a.data&&a.data instanceof Array&&a.data.length){var e=a.data[0];e["datasource"]&&e["datasource"]===t.axiosUrl&&(t.DialogDisplayData(e.data),t.dualAxes.destroy(),t.dualAxes=null,t.CreateCanvas())}}))},DialogDisplayData:function(t){var a=this,e=JSON.parse(JSON.stringify(t));e.forEach((function(t){a.tableListData.forEach((function(a){if(null!==t&&t.startTime===a.startTime&&t.endTime===a.endTime){var e=0,i=0;t["categoryList"].forEach((function(t){switch(t.status){case"Ng":i+=t.count;break;default:e+=t.count;break}})),a.output=e,a.poor=i,a.difficult=a.plan-e<0?0:a.plan-e,a.percent=(100*e/(e+i)).toFixed(0)+"%"}}))})),this.tableData[4].value=0,this.tableData[5].value=0,this.tableData[6].value="0%",this.tableListData.forEach((function(t){a.tableData[4].value+=t.plan,a.tableData[5].value+=t.output})),this.tableData[6].value=(100*this.tableData[5].value/this.tableData[4].value).toFixed(2)+"%",console.error(this.tableData),console.error(this.tableListData)},UpdateTime:function(){var t=new Date;switch(t.getDay()){case 0:this.week="周日";break;case 1:this.week="周一";break;case 2:this.week="周二";break;case 3:this.week="周三";break;case 4:this.week="周四";break;case 5:this.week="周五";break;case 6:this.week="周六";break;default:this.week="-";break}this.time="".concat(t.getFullYear(),"-").concat(t.getMonth()<9?"0"+(t.getMonth()+1):t.getMonth()+1,"-").concat(t.getDate()<10?"0"+t.getDate():t.getDate()," ").concat(t.getHours()<10?"0"+t.getHours():t.getHours(),":").concat(t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes(),":").concat(t.getSeconds()<10?"0"+t.getSeconds():t.getSeconds()),t=null},CreateCanvas:function(){this.dualAxes=new ia["DualAxes"]("data-column-line",{width:1e3,height:700,autoFit:!1,animation:!1,data:[this.tableListData,this.tableListData],xField:"timeString",yField:["output","plan"],legend:{position:"top-right",itemName:{formatter:function(t){return"output"===t?"产量":"plan"===t?"目标量":void 0}}},xAxis:{tickInterval:1,line:{style:{stroke:"#000000",lineWidth:2}},label:{autoHide:!1,style:{fontSize:14,fontWeight:"bold",fill:"#000000"}}},yAxis:[{max:this.dualAxesNum,min:0,line:{style:{stroke:"#000000",lineWidth:2}},title:null,label:{style:{fontSize:18,fontWeight:"bold",fill:"#000000"}}},{max:this.dualAxesNum,min:0,line:null,label:null}],geometryOptions:[{geometry:"column",label:{position:"top",style:{fill:"rgb(96, 146, 246)",fontWeight:"bold"}}},{geometry:"line",label:{align:"top",style:{fill:"purple"}},point:{size:3,style:{fill:"purple",stroke:"purple",lineWidth:2}},color:"purple",lineStyle:{lineWidth:2,stroke:"purple"}}]}),this.dualAxes.render()},dualAxesMax:function(t){var a=this;this.dualAxesNum=100,t.forEach((function(t){a.dualAxesNum=t.plan>a.dualAxesNum?t.plan:a.dualAxesNum,a.dualAxesNum=t.output>a.dualAxesNum?t.output:a.dualAxesNum}))},TimeToTimeStamp:function(t,a){var e=new Date,i="".concat(e.getFullYear(),"-").concat(e.getMonth()+1,"-"),s=e.getDate()-a,n="".concat(t,":00");return e=null,new Date("".concat(i).concat(s," ").concat(n)).getTime()}}},ya=ba,Da=Object(r["a"])(ya,ma,ha,!1,null,null,null),_a=Da.exports,Sa=function(){var t=this,a=t.$createElement;t._self._c;return t._m(0)},La=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"other-content"},[e("div",{staticClass:"nav-item"},[t._v(" 碰我一下 ")]),e("div",{staticClass:"nav-content"},[e("div",{staticClass:"nav-content-item",staticStyle:{opacity:"0"}}),e("div",{staticClass:"nav-content-item"},[t._v("1")]),e("div",{staticClass:"nav-content-item"},[t._v("2")]),e("div",{staticClass:"nav-content-item"},[t._v("3")])])])}],wa=(e("b2a2"),{name:"Other"}),ka=wa,Ta=Object(r["a"])(ka,Sa,La,!1,null,"2742e98a",null),Fa=Ta.exports,Oa=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"universal-line-content"},[e("div",{staticClass:"content-header"},[e("img",{staticClass:"logo",attrs:{id:"logo",src:t.logoPath,alt:"#"}}),e("div",{staticClass:"title"},[t._v(t._s(t.title))]),e("div",{staticClass:"date-time"},[e("div",{staticClass:"date"},[t._v(t._s(t.dateTime.date))]),e("div",{staticClass:"week"},[t._v(t._s(t.dateTime.week))]),e("div",{staticClass:"time"},[t._v(t._s(t.dateTime.time))])])]),e("div",{staticClass:"content-body"},[e("div",{staticClass:"content-body-left"},[e("OrderCustomInformationCard",{attrs:{"order-custom-information-data":t.LineInformationData}}),e("StaffInformationCard",{attrs:{title:t.staffData.title,"staff-list":t.staffData.staff}}),e("DescriptionCard",{attrs:{title:t.descriptionCard.title,description:t.descriptionCard.value}})],1),e("div",{staticClass:"content-body-middle"},[e("LineOutputColumn",{attrs:{title:t.columnData.title,description:t.columnData.description,"chart-data":t.columnData.data,"chart-id":"line-output-column"}}),e("LineOutputTable",{attrs:{title:t.tableData.title,description:t.tableData.description,"table-data":t.tableData.data}}),e("LineOutputLine",{attrs:{title:t.lineData.title,description:t.lineData.description,"chart-data":t.lineData.data,"chart-id":"line-output-line"}})],1),e("div",{staticClass:"content-body-right"},[e("LineAttendanceCard",{attrs:{title:t.attendanceData.title,description:t.attendanceData.description,"chart-data":t.attendanceData.data,"chart-id":"line-output-attendance"}}),e("LineInpOutUselessCard",{attrs:{title:t.lineInpOutUselessData.title,description:t.lineInpOutUselessData.description,"target-num":t.lineInpOutUselessData.data.target,"input-num":t.lineInpOutUselessData.data.input,"output-num":t.lineInpOutUselessData.data.output,"useless-num":t.lineInpOutUselessData.data.useless}}),e("LineFinishLiquidCard",{attrs:{"chart-id1":"pass-chart","chart-id2":"finish-chart",title:t.lineFinishLiquidData.title,description:t.lineFinishLiquidData.description,liquid1:t.lineFinishLiquidData.liquid1,liquid2:t.lineFinishLiquidData.liquid2}})],1)])])},Ia=[],xa={data:function(){return{updateTimeInterval:null,dateTime:{date:"",week:"",time:""}}},mounted:function(){this.UpdateTime(),this.updateTimeInterval=window.setInterval(this.UpdateTime,1e3)},beforeDestroy:function(){this.updateTimeInterval&&(window.clearInterval(this.updateTimeInterval),this.updateTimeInterval=null)},methods:{UpdateTime:function(){var t=new Date;switch(this.dateTime.date="".concat(t.getFullYear(),"-").concat(t.getMonth()<9?"0"+(t.getMonth()+1):t.getMonth()+1,"-").concat(t.getDate()<10?"0"+t.getDate():t.getDate()),this.dateTime.time="".concat(t.getHours()<10?"0"+t.getHours():t.getHours(),":").concat(t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes(),":").concat(t.getSeconds()<10?"0"+t.getSeconds():t.getSeconds()),t.getDay()){case 0:this.dateTime.week="周日, Sun";break;case 1:this.dateTime.week="周一, Mon";break;case 2:this.dateTime.week="周二, Feb";break;case 3:this.dateTime.week="周三, Wed";break;case 4:this.dateTime.week="周四, Thu";break;case 5:this.dateTime.week="周五, Fri";break;case 6:this.dateTime.week="周六, Sat";break;default:this.dateTime.week="-";break}t=null}}},ja=xa,Na={data:function(){return{displayVal:"all",pageConfig:{},getDataInterval:null}},created:function(){this.$route.query&&(this.pageConfig.configId=this.$route.query.configId,this.pageConfig.protocolNames=this.$route.query.protocolNames?this.$route.query.protocolNames:null,this.pageConfig.optional=this.$route.query.optional?this.$route.query.optional:[],this.pageConfig.produceSize=this.$route.query.produceSize?this.$route.query.produceSize:0)},mounted:function(){this.$route.query.dataDisplay&&(this.displayVal=this.$route.query.dataDisplay),this.getDataInterval&&(window.clearInterval(this.getDataInterval),this.getDataInterval=null),this.GetData(),this.getDataInterval=window.setInterval(this.GetData,this.$root.$data.store.scanTime.table)},beforeDestroy:function(){this.getDataInterval&&(window.clearInterval(this.getDataInterval),this.getDataInterval=null)},methods:{GetData:function(){var t=Object(ut["a"])(regeneratorRuntime.mark((function t(){var a=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,jt(this.$root.$data.store.devUrl+this.$root.$data.store.readDataUrl,this.pageConfig.configId,this.pageConfig.protocolNames,this.pageConfig.optional,this.pageConfig.produceSize).then((function(t){console.log(t),a.DialogParamData(t["param"]),"all"!==a.displayVal&&"self"!==a.displayVal||a.DialogDataData(t["dataList"]),a.DialogSimulateData(t["simulateList"]),"all"!==a.displayVal&&"children"!==a.displayVal||a.DialogChildrenData(t["children"]),a.DialogProtocolNamesData(t["protocolList"])})).catch((function(t){console.error(t)}));case 2:case"end":return t.stop()}}),t,this)})));function a(){return t.apply(this,arguments)}return a}(),DialogParamData:function(){},DialogDataData:function(){},DialogSimulateData:function(){},DialogChildrenData:function(){},DialogProtocolNamesData:function(){}}},Ea=Na;function $a(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],e={input:0,ng:0,ok:0,repair:0};return t.forEach((function(t){a.forEach((function(a){if(a===t.type)switch(t.state){case"Input":e.input+=t.value;break;case"Ng":e.ng+=t.value;break;case"Ok":e.ok+=t.value;break;case"Repair":e.repair+=t.value;break;default:break}}))})),e}var qa=$a,Pa=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"order-custom-information-card-content"},[e("div",{staticClass:"card-title-order"},[t._v(" "+t._s(t.titleArray[0])+" - "+t._s(t.orderCustomInformationData.orderCode))]),e("div",{staticClass:"card-list"},[e("div",{staticClass:"card-list-item"},[e("div",{staticClass:"card-list-item-title"},[t._v(t._s(t.titleArray[1]))]),e("div",{staticClass:"card-list-item-value"},[t._v(t._s(t.orderCustomInformationData.orderCustomer))])]),e("div",{staticClass:"card-list-item"},[e("div",{staticClass:"card-list-item-title"},[t._v(t._s(t.titleArray[2]))]),e("div",{staticClass:"card-list-item-value"},[t._v(t._s(t.orderCustomInformationData.orderNum))])])]),e("div",{staticClass:"card-list"},[e("div",{staticClass:"card-list-item"},[e("div",{staticClass:"card-list-item-title"},[t._v(t._s(t.titleArray[3]))]),e("div",{staticClass:"card-list-item-value"},[t._v(t._s(t.orderCustomInformationData.productSpec))])]),e("div",{staticClass:"card-list-item"},[e("div",{staticClass:"card-list-item-title"},[t._v(t._s(t.titleArray[4]))]),e("div",{staticClass:"card-list-item-value"},[t._v(t._s(t.orderCustomInformationData.productModel))])])]),e("div",{staticClass:"card-list"},[e("div",{staticClass:"card-list-item"},[e("div",{staticClass:"card-list-item-title"},[t._v(t._s(t.titleArray[5]))]),e("div",{staticClass:"card-list-item-value"},[t._v(t._s(t.orderCustomInformationData.productName))])]),e("div",{staticClass:"card-list-item"},[e("div",{staticClass:"card-list-item-title"},[t._v(t._s(t.titleArray[6]))]),e("div",{staticClass:"card-list-item-value"},[t._v(t._s(t.orderCustomInformationData.orderDestination))])])])])},Aa=[],Ua=(e("d9c6"),{name:"OrderCustomInformationCard",props:{orderCustomInformationData:{default:function(){return{}},require:!0,type:Object}},data:function(){return{titleArray:["订单号","客户","订单数量","产品规格","产品型号","产品名称","订单目的地"]}},mounted:function(){}}),za=Ua,Ba=Object(r["a"])(za,Pa,Aa,!1,null,null,null),Ma=Ba.exports,Wa=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"staff-information-card-content"},[e("div",{staticClass:"staff-information-card-title"},[t._v(" "+t._s(t.title)+" ")]),e("div",{staticClass:"staff-information-card-list",attrs:{id:"staff-information-card-list"}},[e("div",{staticClass:"staff-information-card-context",attrs:{id:"staff-information-card-context"}},t._l(t.staffList,(function(a){return e("div",{key:"staff-card-item-"+a.id,staticClass:"staff-information-card-item"},[e("div",{staticClass:"staff-information-card-item-image"},[e("img",{attrs:{src:a.image?a.image:t.defaultStaffImg,alt:"staffList-item-"+a.id}})]),e("div",{staticClass:"staff-information-card-item-information"},[e("div",{staticClass:"staff-information-card-item-information-name"},[t._v(t._s(a.name))]),e("div",{staticClass:"staff-information-card-item-information-staff"},[t._v(t._s(a.titleStr))]),e("div",{staticClass:"staff-information-card-item-information-phone"},[t._v(t._s(a.contact))])])])})),0)])])},Ja=[],Ha=(e("3c5e"),e("f446")),Ya={name:"StaffInformationCard",props:{title:{default:"",type:String},staffList:{default:function(){return[]},type:Array,required:!0}},data:function(){return{intervalList:{staffInformation:null},staffListLength:0,defaultStaffImg:Ha}},watch:{},methods:{}},Ra=Ya,Ga=Object(r["a"])(Ra,Wa,Ja,!1,null,null,null),Va=Ga.exports,Qa=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"description-card-content"},[e("div",{staticClass:"description-card-title"},[t._v(t._s(t.title))]),e("div",{staticClass:"description-card-value"},[t._v(t._s(t.description))])])},Xa=[],Ka=(e("6565"),{props:{title:{default:"",type:String},description:{default:"",type:String}},name:"DescriptionCard"}),Za=Ka,te=Object(r["a"])(Za,Qa,Xa,!1,null,null,null),ae=te.exports,ee=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"line-output-column-content"},[e("div",{staticClass:"line-output-column-title-description"},[e("div",{staticClass:"line-output-column-title"},[t._v(t._s(t.title)),e("span",{staticStyle:{color:"#141414"}},[t._v(".")])]),e("div",{staticClass:"line-output-column-description"},[t._v(t._s(t.description))])]),e("div",{staticClass:"line-output-column-canvas",attrs:{id:t.chartId}})])},ie=[],se=(e("afbb"),{name:"LineOutputColumn",props:{title:{default:"-",type:String},description:{default:"-",type:String},chartId:{required:!0,type:String},chartData:{required:!0,type:Array},color:{default:function(){return["#3B90FF","#F2AE4C","#3AFF2C","#ff7575","#646464"]},type:Array}},data:function(){return{columnCanvas:null,oldData:[]}},watch:{chartData:function(t){this.oldData.length!==t.length?(this.columnCanvas&&(this.columnCanvas.destroy(),this.columnCanvas=null),this.CreateCanvas(this.chartId,t),this.oldData=JSON.parse(JSON.stringify(t))):this.UpdateCanvas(t)}},mounted:function(){this.CreateCanvas(this.chartId,this.chartData)},methods:{CreateCanvas:function(t,a){document.getElementById(t).innerHTML&&(document.getElementById(t).innerHTML=null,this.columnCanvas=null),this.columnCanvas=new ia["Column"](t,{data:a,animation:!1,xField:"time",yField:"value",isGroup:!0,isStack:!0,seriesField:"type",groupField:"name",color:this.color,label:{position:"middle",style:{fontWeight:"bold",fill:"#FFFFFF"},layout:[{type:"interval-adjust-position"},{type:"interval-hide-overlap"},{type:"adjust-color"}]},xAxis:{label:{style:{fill:"#FFFFFF",fontSize:11,fontWeight:"bold"},autoRotate:!0,autoHide:!1}},yAxis:{min:0,title:{text:"数量",style:{fill:"#FFFFFF",fontSize:24}},label:{style:{fill:"#CECECE",fontSize:14},formatter:function(t){return t}}},legend:{position:"top-right",itemName:{style:{fill:"white",fontSize:16}}}}),this.columnCanvas.render()},UpdateCanvas:function(t){this.columnCanvas.changeData(t)}}}),ne=se,le=Object(r["a"])(ne,ee,ie,!1,null,"1f8ac269",null),oe=le.exports,re=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"line-output-table-content"},[e("div",{staticClass:"line-output-table-title-description"},[e("div",{staticClass:"line-output-table-title"},[t._v(t._s(t.title)),e("span",{staticStyle:{color:"#141414"}},[t._v(".")])]),e("div",{staticClass:"line-output-table-description"},[t._v(t._s(t.description))])]),e("div",{staticClass:"line-output-table-table"},[e("table",[e("tr",{style:{color:t.color[0]?t.color[0]:"#FFFFFF"}},[e("th",{staticStyle:{opacity:"0"}},[t._v(".")]),t._l(t.tableData,(function(a){return e("th",{key:"table-item-time-"+a.id},[t._v(t._s(a.time))])}))],2),e("tr",{style:{color:t.color[1]?t.color[1]:"#FFFFFF"}},[e("td",[t._v("目标")]),t._l(t.tableData,(function(a){return e("td",{key:"table-item-target-"+a.id},[t._v(t._s(a.target))])}))],2),e("tr",{style:{color:t.color[2]?t.color[2]:"#FFFFFF"}},[e("td",[t._v("投入")]),t._l(t.tableData,(function(a){return e("td",{key:"table-item-input-"+a.id},[t._v(t._s(a.input))])}))],2),e("tr",{style:{color:t.color[3]?t.color[3]:"#FFFFFF"}},[e("td",[t._v("合格")]),t._l(t.tableData,(function(a){return e("td",{key:"table-item-output-"+a.id},[t._v(t._s(a.output))])}))],2),e("tr",{style:{color:t.color[4]?t.color[4]:"#FFFFFF"}},[e("td",[t._v("不良")]),t._l(t.tableData,(function(a){return e("td",{key:"table-item-useless-"+a.id},[t._v(t._s(a.useless))])}))],2),e("tr",{style:{color:t.color[5]?t.color[5]:"#FFFFFF"}},[e("td",[t._v("维修")]),t._l(t.tableData,(function(a){return e("td",{key:"table-item-repair-"+a.id},[t._v(t._s(a.repair))])}))],2),e("tr",{style:{color:t.color[6]?t.color[6]:"#FFFFFF"}},[e("td",[t._v("完成率")]),t._l(t.tableData,(function(a){return e("td",{key:"table-item-finish-"+a.id},[t._v(t._s(a.finish))])}))],2)])])])},ce=[],ue=(e("6251"),{props:{title:{default:"-",type:String},description:{default:"",type:String},tableData:{required:!0,type:Array},color:{default:function(){return["pink","#F830FF","#F2AE4C","#3AFF2C","#FF7575","#EBFE30","skyblue"]},type:Array}},name:"LineOutputTable"}),de=ue,fe=Object(r["a"])(de,re,ce,!1,null,"4b9527ce",null),pe=fe.exports,me=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"line-output-line-content"},[e("div",{staticClass:"line-output-line-title-description"},[e("div",{staticClass:"line-output-line-title"},[t._v(t._s(t.title)),e("span",{staticStyle:{color:"#141414"}},[t._v(".")])]),e("div",{staticClass:"line-output-line-description"},[t._v(t._s(t.description))])]),e("div",{staticClass:"line-output-line-canvas",attrs:{id:t.chartId}})])},he=[],ve=(e("4b21"),{props:{title:{default:"-",type:String},description:{default:"-",type:String},chartId:{required:!0,type:String},chartData:{required:!0,type:Array}},name:"LineOutputLine",data:function(){return{lineCanvas:null,oldData:[],maxVal:50,annotationList:[]}},watch:{chartData:function(t){this.oldData.length!==t.length?(this.lineCanvas&&(this.lineCanvas.destroy(),this.lineCanvas=null),this.CreateCanvas(this.chartId,t),this.oldData=JSON.parse(JSON.stringify(t))):this.UpdateCanvas(t)}},mounted:function(){this.CreateCanvas(this.chartId,this.chartData)},methods:{CreateCanvas:function(t,a){var e=this;document.getElementById(t).innerHTML&&(document.getElementById(t).innerHTML=null,this.lineCanvas=null),this.annotationList=[],a.length&&a.forEach((function(t,i){0===i&&e.annotationList.push({type:"text",position:["min",t.target],content:"目标线",offsetY:24,offsetX:-28,style:{textBaseline:"bottom",fill:"#F830FF",fontWeight:"bold",fontSize:16}}),i>0&&e.annotationList.push({type:"line",style:{stroke:"#F830FF",lineDash:[4,4],lineWidth:2},start:[a[i-1].time,a[i-1].target],end:[t.time,t.target]}),e.annotationList.push({type:"text",position:[t.time,t.target],content:t.target,offsetY:-4,offsetX:-16,style:{textBaseline:"bottom",fill:"#F830FF",fontWeight:"bold",fontSize:18}},{type:"regionFilter",start:["min","max"],end:[t.target,"0"],color:"#F4664A"},{type:"regionFilter",start:["min","max"],end:["max",t.target],color:"springgreen"})})),this.yAxisValueMax(a),this.lineCanvas=new ia["Line"](t,{data:a,animation:!1,xField:"time",yField:"output",label:{style:{fill:"#FFFFFF",fontWeight:"bold",fontSize:18}},yAxis:{max:this.maxVal,title:{text:"数量",style:{fill:"#FFFFFF",fontSize:24}},label:{style:{fill:"#FFFFFF",fontSize:16},formatter:function(t){return t}}},xAxis:{label:{style:{fill:"#FFFFFF",fontSize:12},formatter:function(t){return t},autoHide:!1,autoRotate:!0}},annotations:Object(gt["a"])(this.annotationList),point:{size:5,shape:"circle",style:{fill:"#5B8FF9",stroke:"#141414",lineWidth:1}}}),this.lineCanvas.render()},UpdateCanvas:function(t){this.lineCanvas.changeData(t)},yAxisValueMax:function(t){var a=this;t.forEach((function(t){t.target>a.maxVal&&(a.maxVal=t.target+10),t.output>a.maxVal&&(a.maxVal=t.output+10)}))}}}),ge=ve,Ce=Object(r["a"])(ge,me,he,!1,null,null,null),be=Ce.exports,ye=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"line-attendance-card-content"},[e("div",{staticClass:"line-attendance-card-title-description"},[e("div",{staticClass:"line-attendance-card-title"},[t._v(t._s(t.title))]),e("div",{staticClass:"line-attendance-card-description"},[t._v(t._s(t.description))])]),e("div",{staticClass:"line-attendance-card-canvas",attrs:{id:t.chartId}}),e("div",{staticClass:"line-attendance-card-details"},t._l(t.chartData,(function(a){return e("div",{key:"chart-data-attendance-item-"+a.type,staticClass:"line-attendance-card-details-item"},[e("div",{staticClass:"line-attendance-card-details-item-title"},[t._v(t._s(a.type))]),e("div",{staticClass:"line-attendance-card-details-item-value"},[t._v(t._s(a.value))])])})),0)])},De=[],_e=(e("4bbe"),{name:"LineAttendanceCard",props:{title:{type:String,default:""},description:{type:String,default:""},data:{type:Object,default:function(){return{}}},chartId:{type:String,default:""},chartData:{type:Array,default:function(){return[]}}},data:function(){return{pieCanvas:null,oldData:[]}},watch:{chartData:function(t){this.oldData.length!==t.length?(this.pieCanvas&&(this.pieCanvas.destroy(),this.pieCanvas=null),this.CreateCanvas(this.chartId,t),this.oldData=JSON.parse(JSON.stringify(t))):this.UpdateCanvas(t)}},mounted:function(){this.CreateCanvas(this.chartId,this.chartData)},methods:{CreateCanvas:function(t,a){document.getElementById(t).innerHTML&&(document.getElementById(t).innerHTML=null),this.pieCanvas=new ia["Pie"](t,{appendPadding:10,data:a,animation:!1,angleField:"value",colorField:"type",radius:1,innerRadius:.6,legend:{position:"right-top",offsetX:-20,offsetY:10,itemName:{style:{fill:"white"}}},label:{type:"inner",offset:"-50%",content:"{value}",style:{textAlign:"center",fontSize:18,fill:"black",fontWeight:"bold"}},color:["skyblue","#61E658","#D9E658","#E93636","pink","#FFFFFF","#FFFFFF"],interactions:[{type:"element-selected"},{type:"element-active"}],statistic:{title:!1,content:{style:{whiteSpace:"pre-wrap",overflow:"hidden",textOverflow:"ellipsis",fontSize:24,color:"#AEAEAE"},formatter:function(){return"出勤详细"}}}}),this.pieCanvas.render()},UpdateCanvas:function(t){this.pieCanvas.changeData(t)}}}),Se=_e,Le=Object(r["a"])(Se,ye,De,!1,null,"3767283b",null),we=Le.exports,ke=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"line-inp-out-useless-card-content"},[e("div",{staticClass:"line-inp-out-useless-card-list"},[e("div",{staticClass:"line-inp-out-useless-card-item"},[e("div",[t._v("目标产能")]),e("div",[t._v(t._s(t.targetNum))])]),e("div",{staticClass:"line-inp-out-useless-card-item"},[e("div",[t._v("投入产量")]),e("div",[t._v(t._s(t.inputNum))])]),e("div",{staticClass:"line-inp-out-useless-card-item"},[e("div",[t._v("合格数量")]),e("div",[t._v(t._s(t.outputNum))])]),e("div",{staticClass:"line-inp-out-useless-card-item"},[e("div",[t._v("不合格数量")]),e("div",[t._v(t._s(t.uselessNum))])])])])},Te=[],Fe=(e("3265"),{name:"LineInpOutUselessCard",props:{title:{default:"",type:String},description:{default:"",type:String},targetNum:{default:0,type:Number},inputNum:{default:0,type:Number},outputNum:{default:0,type:Number},uselessNum:{default:0,type:Number}}}),Oe=Fe,Ie=Object(r["a"])(Oe,ke,Te,!1,null,"770b699a",null),xe=Ie.exports,je=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"line-finish-liquid-card-content"},[e("div",{staticClass:"line-finish-liquid-card-title-description"},[e("div",{staticClass:"line-finish-liquid-card-title"},[t._v(t._s(t.title))]),e("div",{staticClass:"line-finish-liquid-card-description"},[t._v(t._s(t.description))])]),e("div",{staticClass:"line-finish-liquid-card-liquid-content"},[e("div",{staticClass:"line-finish-liquid1-content"},[e("div",{staticClass:"line-finish-liquid1-title"},[t._v(t._s(t.liquid1.title))]),e("div",{staticClass:"line-finish-liquid1-description"},[t._v(t._s(t.liquid1.description))]),e("div",{staticClass:"line-finish-liquid1-canvas",attrs:{id:t.chartId1}})]),e("div",{staticClass:"line-finish-liquid2-content"},[e("div",{staticClass:"line-finish-liquid2-title"},[t._v(t._s(t.liquid2.title))]),e("div",{staticClass:"line-finish-liquid2-description"},[t._v(t._s(t.liquid2.description))]),e("div",{staticClass:"line-finish-liquid2-canvas",attrs:{id:t.chartId2}})])])])},Ne=[],Ee=(e("4876"),{name:"LineFinishLiquidCard",props:{title:{default:"",type:String},description:{default:"",type:String},chartId1:{required:!0,type:String},chartId2:{required:!0,type:String},liquid1:{default:function(){return{}},type:Object},liquid2:{default:function(){return{}},type:Object}},data:function(){return{liquid1Canvas:null,liquid2Canvas:null}},watch:{"liquid1.value":function(t){this.UpdateCanvas1(t)},"liquid2.value":function(t){this.UpdateCanvas2(t)}},mounted:function(){this.CreateCanvas1(this.chartId1,this.liquid1.value),this.CreateCanvas2(this.chartId2,this.liquid2.value)},methods:{CreateCanvas1:function(t,a){document.getElementById(t).innerHTML&&(document.getElementById(t).innerHTML=null,this.liquid1Canvas=null),this.liquid1Canvas=new ia["Liquid"](t,{animation:!1,statistic:{title:{formatter:function(){return"合格率"},style:{fontSize:16,fill:"white"}},content:{style:{fontSize:20,lineHeight:1,fill:"white"}}},liquidStyle:{fill:"dodgerblue",stroke:"dodgerblue"},percent:a,outline:{border:4,distance:8},wave:{length:128}}),this.liquid1Canvas.render()},UpdateCanvas1:function(t){this.liquid1Canvas.changeData(t)},CreateCanvas2:function(t,a){document.getElementById(t).innerHTML&&(document.getElementById(t).innerHTML=null,this.liquid2Canvas=null),this.liquid2Canvas=new ia["Liquid"](t,{animation:!1,statistic:{title:{formatter:function(){return"完成率"},style:{fontSize:16,fill:"white"}},content:{style:{fontSize:20,lineHeight:1,fill:"white"}}},liquidStyle:{fill:"forestgreen",stroke:"forestgreen"},percent:a,outline:{border:4,distance:8},wave:{length:128}}),this.liquid2Canvas.render()},UpdateCanvas2:function(t){this.liquid2Canvas.changeData(t)}}}),$e=Ee,qe=Object(r["a"])($e,je,Ne,!1,null,"7b2c12e6",null),Pe=qe.exports,Ae=(e("59ae"),{mixins:[ja,Ea],components:{DescriptionCard:ae,LineOutputColumn:oe,LineOutputTable:pe,LineOutputLine:be,LineAttendanceCard:we,LineInpOutUselessCard:xe,LineFinishLiquidCard:Pe,OrderCustomInformationCard:Ma,StaffInformationCard:Va},name:"UniversalLine",data:function(){return{logoPath:"",title:"电子精益看板 (Dashboard)",LineInformationData:{},typeList:["Null","SmallBox"],staffData:{title:"负责人名片",staff:[]},descriptionCard:{title:"描述",value:""},columnData:{title:"当日各时段产能情况",description:"",data:[]},tableData:{title:"产能详细表",description:"",data:[]},lineData:{title:"产能趋势图",description:"",data:[]},attendanceData:{title:"考勤信息",description:"",data:[]},lineInpOutUselessData:{title:"产线信息",description:"",data:{}},lineFinishLiquidData:{title:"产能情况水波图",description:"",liquid1:{title:"产能合格率",description:"(合格 / (合格 + 不合格))",value:0},liquid2:{title:"目标完成率",description:"(合格 / 目标总和)",value:0}}}},mounted:function(){},beforeDestroy:function(){},methods:{DialogParamData:function(t){var a=this,e=JSON.parse(JSON.stringify(t));function i(t,a){return t&&!a?"".concat(t):t&&a?"".concat(t," (").concat(a,")"):!t&&a?"".concat(a):"-"}this.logoPath=e.config.logoPath,this.title=e.config.title,this.LineInformationData.orderCode=e.information.orderCode,this.LineInformationData.productModel=e.information.productModel,this.LineInformationData.orderNum=e.information.orderNum,this.LineInformationData.productSpec=e.information.productSpec,this.LineInformationData.orderCustomer=e.information.orderCustomer,this.LineInformationData.productName=e.information.productName,this.$set(this.LineInformationData,"orderDestination",e.information.orderDestination),this.staffData.staff=[],e.staffList.forEach((function(t){a.staffData.staff.push(Object(ct["a"])(Object(ct["a"])({},t),{},{titleStr:i(t.titleCh,t.titleEn)}))})),this.descriptionCard.value=e.useless.description,this.columnData.data=[],this.tableData.data=[],this.lineData.data=[],this.lineInpOutUselessData.data={target:0,input:0,output:0,useless:0},e.dataList.forEach((function(t){a.columnData.data.push(Object(ct["a"])(Object(ct["a"])({},t),{},{name:"目标",typeEn:"target",time:t.timeStr,value:null===t.offsetDay?null:t.target,type:"目标产能"}),Object(ct["a"])(Object(ct["a"])({},t),{},{name:"投入",typeEn:"input",time:t.timeStr,value:null===t.offsetDay?null:0,type:"投入数量"}),Object(ct["a"])(Object(ct["a"])({},t),{},{name:"产出",typeEn:"output",time:t.timeStr,value:null===t.offsetDay?null:0,type:"合格"}),Object(ct["a"])(Object(ct["a"])({},t),{},{name:"产出",typeEn:"useless",time:t.timeStr,value:null===t.offsetDay?null:0,type:"不良"}),Object(ct["a"])(Object(ct["a"])({},t),{},{name:"产出",typeEn:"repair",time:t.timeStr,value:null===t.offsetDay?null:0,type:"维修"})),a.tableData.data.push(Object(ct["a"])(Object(ct["a"])({},t),{},{time:t.timeStr,target:null===t.offsetDay?null:t.target,input:null===t.offsetDay?null:0,output:null===t.offsetDay?null:0,useless:null===t.offsetDay?null:0,repair:null===t.offsetDay?null:0,finish:null===t.offsetDay?null:"0%"})),a.lineData.data.push(Object(ct["a"])(Object(ct["a"])({},t),{},{time:t.timeStr,target:null===t.offsetDay?null:t.target,output:null===t.offsetDay?null:0})),a.lineInpOutUselessData.data.target+=t.target})),this.attendanceData.data=[],Object.keys(e.attendance).forEach((function(t){switch(t){case"absence":a.attendanceData.data.push({type:"缺席",value:e.attendance[t]});break;case"all":a.attendanceData.data.push({type:"总数",value:e.attendance[t]});break;case"leave":a.attendanceData.data.push({type:"请假",value:e.attendance[t]});break;case"normal":a.attendanceData.data.push({type:"出席",value:e.attendance[t]});break;default:a.attendanceData.data.push({type:t,value:e.attendance[t]});break}}))},DialogDataData:function(t){var a=this,e=JSON.parse(JSON.stringify(t));e.dataList.forEach((function(t){var e=qa(t.productList,a.typeList);a.columnData.data.forEach((function(a){if(t.startTime.timeStamp===a.startTime.timeStamp&&t.endTime.timeStamp===a.endTime.timeStamp)switch(a.typeEn){case"input":a.value+=e.input;break;case"output":a.value+=e.ok;break;case"useless":a.value+=e.ng;break;case"repair":a.value+=e.repair;break;default:break}})),a.tableData.data.forEach((function(i){t.startTime.timeStamp===i.startTime.timeStamp&&t.endTime.timeStamp===i.endTime.timeStamp&&(i.input+=e.input,i.output+=e.ok,i.useless+=e.ng,i.repair+=e.repair,0===i.target||0===i.output?i.finish="0%":i.target<i.output?i.finish="100%":i.finish=1*(i.output/i.target*100).toFixed(1)+"%",a.lineInpOutUselessData.data.useless+=e.ng,a.lineInpOutUselessData.data.output+=e.ok,a.lineInpOutUselessData.data.input+=e.input)})),a.lineData.data.forEach((function(a){t.startTime.timeStamp===a.startTime.timeStamp&&t.endTime.timeStamp===a.endTime.timeStamp&&(a.output+=e.ok)}))}));var i=0===this.lineInpOutUselessData.data.output?0:1*(this.lineInpOutUselessData.data.output/(this.lineInpOutUselessData.data.output+this.lineInpOutUselessData.data.useless)).toFixed(4),s=0===this.lineInpOutUselessData.data.target?0:this.lineInpOutUselessData.data.output/this.lineInpOutUselessData.data.target;this.$set(this.lineFinishLiquidData.liquid1,"value",i),this.$set(this.lineFinishLiquidData.liquid2,"value",s)},DialogChildrenData:function(t){var a=this;t.length&&t.forEach((function(t){a.DialogDataData(t["dataList"]),a.DialogChildrenData(t["children"])}))}}}),Ue=Ae,ze=Object(r["a"])(Ue,Oa,Ia,!1,null,null,null),Be=ze.exports,Me=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"universal-stack-content"},[e("div",{staticClass:"content-header"},[e("img",{attrs:{id:"logo",src:t.logoPath,alt:"#"}}),e("div",{staticClass:"title"},[t._v(t._s(t.title))]),e("div",{staticClass:"date-time"},[e("div",{staticClass:"date"},[t._v(t._s(t.dateTime.date))]),e("div",{staticClass:"week"},[t._v(t._s(t.dateTime.week))]),e("div",{staticClass:"time"},[t._v(t._s(t.dateTime.time))])])]),e("div",{staticClass:"content-body"},[e("div",{staticClass:"content-body-left"},[e("StackStatusInformation",{attrs:{title:t.statusInformationList.title,description:t.statusInformationList.description,"card-data":t.statusInformationList.data}})],1),e("div",{staticClass:"content-body-right"},[e("div",{staticClass:"content-body-right-line-card"},[e("StackOutputLine",{attrs:{title:t.outputLineData.title,description:t.outputLineData.description,"chart-id":"stack-output-line","chart-data":t.outputLineData.data}}),e("StackProductInformationCard",{attrs:{title:t.productInformationCardData.title,description:t.productInformationCardData.description,"chart-id":"stack-product-information-liquid","chart-data":t.productInformationCardData.data,"information-list":t.productInformationCardData.dataList}})],1),e("div",{staticClass:"content-body-right-column-waterfall"},[e("StackOutputColumn",{attrs:{title:t.outputColumnData.title,description:t.outputColumnData.description,"chart-id":"stack-output-column","chart-data":t.outputColumnData.data}}),e("StackOutputWaterfall",{attrs:{title:t.outputWaterfallData.title,description:t.outputWaterfallData.description,"chart-id":"stack-output-waterfall","chart-data":t.outputWaterfallData.data}})],1)])])])},We=[],Je=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"stack-status-information-content"},[e("div",{staticClass:"stack-status-information-title-description"},[e("div",{staticClass:"stack-status-information-title"},[t._v(t._s(t.title))]),e("div",{staticClass:"stack-status-information-description"},[t._v(t._s(t.description))])]),e("div",{staticClass:"stack-status-information-card"},t._l(t.cardData,(function(a,i){return e("div",{key:"card-data-"+i,staticClass:"stack-status-information-card-item",style:{height:(780-20*t.cardData.length)/t.cardData.length+"px"}},[e("div",{staticClass:"stack-status-information-card-item-title-ch"},[t._v(t._s(a.ch))]),e("div",{staticClass:"stack-status-information-card-item-title-en"},[t._v(t._s(a.en))]),e("div",{staticClass:"stack-status-information-card-item-title-value",style:{color:t.PalletColorDisc(a.value)}},[t._v(t._s(a.status))])])})),0)])},He=[],Ye=(e("6ec3"),{name:"StackStatusInformation",props:{title:{default:"-",type:String},description:{default:"-",type:String},cardData:{default:function(){return[]},type:Array}},filters:{},methods:{PalletColorDisc:function(t){switch(t){case 0:return"#FFFFFF";case 10:return"#65FF7A";case 20:return"#FFEF00";default:return"#E818A3"}}}}),Re=Ye,Ge=Object(r["a"])(Re,Je,He,!1,null,"577f0e36",null),Ve=Ge.exports,Qe=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"stack-output-line-content"},[e("div",{staticClass:"stack-output-line-title-description"},[e("div",{staticClass:"stack-output-line-title"},[t._v(t._s(t.title))]),e("div",{staticClass:"stack-output-line-description"},[t._v(t._s(t.description))])]),e("div",{staticClass:"stack-output-line-canvas",attrs:{id:t.chartId}})])},Xe=[],Ke=(e("522f"),{props:{title:{default:"-",type:String},description:{default:"-",type:String},chartId:{required:!0,type:String},chartData:{required:!0,type:Array},color:{default:"rgb(65, 235, 251)",type:String}},name:"StackOutputLine",data:function(){return{lineCanvas:null,oldData:[]}},watch:{chartData:function(t){this.oldData.length!==t.length?(this.lineCanvas&&(this.lineCanvas.destroy(),this.lineCanvas=null),this.CreateCanvas(this.chartId,t),this.oldData=JSON.parse(JSON.stringify(t))):this.UpdateCanvas(t)}},mounted:function(){this.CreateCanvas(this.chartId,this.chartData)},methods:{CreateCanvas:function(t,a){document.getElementById(t).innerHTML&&(document.getElementById(t).innerHTML=null,this.lineCanvas=null),this.lineCanvas=new ia["Line"](t,{data:a,animation:!1,xField:"title",yField:"value",color:this.color,label:{style:{fill:"#FFFFFF",fontSize:15}},point:{size:5,shape:"diamond",style:{fill:"#FFFFFF",stroke:"#5B8FF9",lineWidth:2}},tooltip:{showMarkers:!1},xAxis:{label:{style:{fill:"#FFFFFF",fontWeight:"bold"},autoRotate:!0,autoHide:!1}},yAxis:{min:0,title:{text:"数量",style:{fill:"#FFFFFF",fontSize:24}},label:{style:{fill:"#FFFFFF",fontSize:17,fontWeight:"bold"},formatter:function(t){return t}}}}),this.lineCanvas.render()},UpdateCanvas:function(t){this.lineCanvas.changeData(t)}}}),Ze=Ke,ti=Object(r["a"])(Ze,Qe,Xe,!1,null,"bf9d7924",null),ai=ti.exports,ei=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"stack-product-information-card-content"},[e("div",{staticClass:"stack-product-information-card-title-description"},[e("div",{staticClass:"stack-product-information-card-title"},[t._v(t._s(t.title))]),e("div",{staticClass:"stack-product-information-card-description"},[t._v(t._s(t.description))])]),e("div",{staticClass:"stack-product-information-card-information-content"},t._l(t.informationList,(function(a){return e("div",{key:"information-item-"+a.title,staticClass:"stack-product-information-card-information-item"},[e("div",{staticClass:"stack-product-information-card-information-item-title"},[t._v(t._s(a.title))]),e("div",{staticClass:"stack-product-information-card-information-item-value"},[t._v(t._s(a.value))])])})),0),e("div",{staticClass:"stack-product-information-card-information-canvas",attrs:{id:t.chartId}})])},ii=[],si=(e("bbaf"),{name:"StackProductInformationCard",props:{chartId:{required:!0,type:String},chartData:{required:!0,type:Number},informationList:{required:!0,type:Array},title:{default:"",type:String},description:{default:"",type:String}},data:function(){return{liquidCanvas:null}},watch:{chartData:function(t){this.UpdateCanvas(t)}},mounted:function(){this.CreateCanvas(this.chartId,this.chartData)},methods:{CreateCanvas:function(t,a){document.getElementById(t).innerHTML&&(document.getElementById(t).innerHTML=null,this.liquidCanvas=null),this.liquidCanvas=new ia["Liquid"](t,{animation:!1,statistic:{title:{formatter:function(){return"与上一时段对比"},style:{fontSize:16,fill:"white"}},content:{style:{fontSize:24,lineHeight:1,fill:"white"}}},liquidStyle:{fill:"dodgerblue",stroke:"dodgerblue"},percent:a,outline:{border:4,distance:8},wave:{length:128}}),this.liquidCanvas.render()},UpdateCanvas:function(t){this.liquidCanvas.changeData(t)}}}),ni=si,li=Object(r["a"])(ni,ei,ii,!1,null,"c696bc2e",null),oi=li.exports,ri=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"stack-output-column-content"},[e("div",{staticClass:"stack-output-column-title-description"},[e("div",{staticClass:"stack-output-column-title"},[t._v(t._s(t.title))]),e("div",{staticClass:"stack-output-column-description"},[t._v(t._s(t.description))])]),e("div",{staticClass:"stack-output-column-canvas",attrs:{id:t.chartId}})])},ci=[],ui=(e("a5d3"),{name:"StackOutputColumn",props:{title:{default:"",type:String},description:{default:"",type:String},chartId:{required:!0,type:String},chartData:{required:!0,type:Array}},data:function(){return{columnCanvas:null,oldData:[]}},watch:{chartData:function(t){this.oldData.length!==t.length?(this.columnCanvas&&(this.columnCanvas.destroy(),this.columnCanvas=null),this.CreateCanvas(this.chartId,t),this.oldData=JSON.parse(JSON.stringify(t))):this.UpdateCanvas(t)}},mounted:function(){this.CreateCanvas(this.chartId,this.chartData)},methods:{CreateCanvas:function(t,a){document.getElementById(t).innerHTML&&(document.getElementById(t).innerHTML=null,this.columnCanvas=null),this.columnCanvas=new ia["Column"](t,{data:a,animation:!1,xField:"title",yField:"value",label:{position:"middle",style:{fill:"#FFFFFF",opacity:1}},xAxis:{label:{style:{fill:"#FFFFFF",fontSize:11,fontWeight:"bold"},autoRotate:!0,autoHide:!1}},yAxis:{min:0,title:{text:"数量",style:{fill:"#FFFFFF",fontSize:24}},label:{style:{fill:"#CECECE",fontSize:14},formatter:function(t){return t}}}}),this.columnCanvas.render()},UpdateCanvas:function(t){this.columnCanvas.changeData(t)}}}),di=ui,fi=Object(r["a"])(di,ri,ci,!1,null,"dce0f3fe",null),pi=fi.exports,mi=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"stack-output-waterfall-content"},[e("div",{staticClass:"stack-output-waterfall-title-description"},[e("div",{staticClass:"stack-output-waterfall-title"},[t._v(t._s(t.title))]),e("div",{staticClass:"stack-output-waterfall-description"},[t._v(t._s(t.description))])]),e("div",{staticClass:"stack-output-waterfall-canvas",attrs:{id:t.chartId}})])},hi=[],vi=(e("700c"),{name:"StackOutputWaterfall",props:{title:{default:"",type:String},description:{default:"",type:String},chartId:{required:!0,type:String},chartData:{required:!0,type:Array}},data:function(){return{waterfallCanvas:null,oldData:[]}},watch:{chartData:function(t){this.oldData.length!==t.length?(this.waterfallCanvas&&(this.waterfallCanvas.destroy(),this.waterfallCanvas=null),this.CreateCanvas(this.chartId,this.chartData),this.oldData=JSON.parse(JSON.stringify(t))):this.UpdateCanvas(t)}},mounted:function(){this.CreateCanvas(this.chartId,this.chartData)},methods:{CreateCanvas:function(t,a){document.getElementById(t).innerHTML&&(document.getElementById(t).innerHTML=null,this.waterfallCanvas=null),this.waterfallCanvas=new ia["Waterfall"](t,{data:a,animation:!1,xField:"title",yField:"value",legend:{position:"top-left"},xAxis:{label:{style:{fill:"#FFFFFF",fontSize:11,fontWeight:"bold"},autoRotate:!0,autoHide:!1}},yAxis:{min:0,title:{text:"数量",style:{fill:"#FFFFFF",fontSize:24}},label:{style:{fill:"#FFFFFF",fontSize:14},formatter:function(t){return t}}},label:{style:{fill:"#FFFFFF",fontWeight:"bold"},layout:[{type:"interval-adjust-position"}]},total:{label:"总数",style:{fill:"#FF802A"}}}),this.waterfallCanvas.render()},UpdateCanvas:function(t){this.waterfallCanvas.changeData(t)}}}),gi=vi,Ci=Object(r["a"])(gi,mi,hi,!1,null,"6f8b0b16",null),bi=Ci.exports,yi=(e("4639"),{mixins:[ja,Ea],name:"Stack",components:{StackStatusInformation:Ve,StackOutputLine:ai,StackProductInformationCard:oi,StackOutputColumn:pi,StackOutputWaterfall:bi},data:function(){return{pageConfig:{},logoPath:"",title:"电子精益看板 (Dashboard)",typeList:["Null","SmallBox"],statusInformationList:{title:"码垛状态信息",description:"线体码垛感应器状态信息详细",data:[{id:1,ch:"产线托盘储备情况",en:"Line pallet status",value:"-"},{id:2,ch:"产线码垛满料情况",en:"Line pallets reserve",value:"-"}]},outputLineData:{title:"当日产能情况趋势图",description:"当日产能情况趋势图",data:[]},productInformationCardData:{title:"当日状况卡片",description:"当日线体数据显示",dataList:[{title:"当日总量",value:0},{title:"当前时段量",value:0},{title:"上一时段量",value:0}],data:0},outputColumnData:{title:"当日每时段产能详细柱状图",description:"当日每时段产能详细柱状图",data:[]},outputWaterfallData:{title:"每时段产能对比详细瀑布图",description:"每时段产能对比详细瀑布图",data:[]}}},created:function(){this.$route.query&&(this.pageConfig.configId=this.$route.query.configId,this.pageConfig.optional=this.$route.query.optional,this.pageConfig.protocolNames=this.$route.query.protocolNames?this.$route.query.protocolNames:null,this.pageConfig.produceSize=this.$route.query.produceSize?this.$route.query.produceSize:0)},methods:{DialogParamData:function(t){var a=this,e=JSON.parse(JSON.stringify(t));this.logoPath=t.config.logoPath,this.title=t.config.title,this.outputLineData.data=[],this.productInformationCardData.data=0,this.productInformationCardData.dataList.forEach((function(t){t.value=0})),this.outputColumnData.data=[],this.outputWaterfallData.data=[],e.dataList.forEach((function(t){a.outputLineData.data.push(Object(ct["a"])(Object(ct["a"])({},t),{},{title:t.timeStr,value:0})),a.outputColumnData.data.push(Object(ct["a"])(Object(ct["a"])({},t),{},{title:t.timeStr,value:0})),a.outputWaterfallData.data.push(Object(ct["a"])(Object(ct["a"])({},t),{},{title:t.timeStr,value:0}))}))},DialogDataData:function(t){var a=this,e=JSON.parse(JSON.stringify(t)),i=(new Date).valueOf(),s={nowIndex:0,index:0,startTime:0,endTime:0,value:0};e.dataList.forEach((function(t){var e=qa(t.productList,a.typeList);a.outputLineData.data.forEach((function(n,l){t.startTime.timeStamp===n.startTime.timeStamp&&t.endTime.timeStamp===n.endTime.timeStamp&&(n.value+=e.ok,t.startTime.timeStamp<=i&&i<=t.endTime.timeStamp&&(l>0?(s.nowIndex=l,s.index=l-1,s.startTime=a.outputLineData.data[l-1].startTime.timeStamp,s.endTime=a.outputLineData.data[l-1].endTime.timeStamp,s.value+=a.outputLineData.data[l-1].value):s.nowIndex=0))})),a.outputColumnData.data.forEach((function(a){t.startTime.timeStamp===a.startTime.timeStamp&&t.endTime.timeStamp===a.endTime.timeStamp&&(a.value+=e.ok)})),a.outputWaterfallData.data.forEach((function(a){t.startTime.timeStamp===a.startTime.timeStamp&&t.endTime.timeStamp===a.endTime.timeStamp&&(a.value+=e.ok)})),a.productInformationCardData.dataList[0].value+=e.ok,t.startTime.timeStamp<=i&&i<=t.endTime.timeStamp&&(a.productInformationCardData.dataList[1].value+=e.ok)})),this.productInformationCardData.dataList[2].value+=s.value,this.productInformationCardData.dataList[1].value<=0?this.productInformationCardData.data=0:this.productInformationCardData.dataList[2].value<=0?this.productInformationCardData.data=1:this.productInformationCardData.data=1*(this.productInformationCardData.dataList[1].value/this.productInformationCardData.dataList[2].value).toFixed(4)},DialogProtocolNamesData:function(t){var a=this;if(t&&t instanceof Object&&Object.keys(t).length){var e=Object.keys(t);e.forEach((function(e){e.split("StackPalletStatus").length>1&&(a.$set(a.statusInformationList.data[0],"value",t[e]),a.$set(a.statusInformationList.data[0],"status",a.PalletStatusDisc(t[e]))),e.split("StackPalletsReserve").length>1&&(a.$set(a.statusInformationList.data[1],"value",t[e]),a.$set(a.statusInformationList.data[1],"status",a.PalletReverseDisc(t[e])))}))}},DialogChildrenData:function(t){var a=this;t.length&&t.forEach((function(t){a.DialogDataData(t["dataList"]),a.DialogChildrenData(t["children"])}))},PalletStatusDisc:function(t){switch(t){case 0:return"空闲 Free";case 10:return"正常 Normal";case 20:return"满料 Full";default:return"未判断 UnKnow"}},PalletReverseDisc:function(t){switch(t){case 0:return"空闲 Free";case 10:return"码货中 Stacking";case 20:return"满料 Full";default:return"未判断 UnKnow"}}}}),Di=yi,_i=Object(r["a"])(Di,Me,We,!1,null,null,null),Si=_i.exports,Li=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"universal-line-clear-content"},[e("div",{staticClass:"content-header"},[e("div",{staticClass:"logo-time-title-card-content"},[e("div",{staticClass:"logo-time-content"},[e("div",{staticClass:"logo-content"},[e("img",{attrs:{src:t.logoTitleConfig.logoPath,alt:"#"}})]),e("div",{staticClass:"time-content"},[e("div",{staticClass:"date"},[t._v(t._s(t.dateTime.date))]),e("div",{staticClass:"week"},[t._v(t._s(t.dateTime.week))]),e("div",{staticClass:"time"},[t._v(t._s(t.dateTime.time))])])]),e("div",{staticClass:"divider"}),e("div",{staticClass:"title-content"},[t._v(t._s(t.logoTitleConfig.title))])]),e("div",{staticClass:"order-custom-information-content"},[e("div",{staticClass:"title"},[t._v("订单信息")]),t._l(t.informationData.orderCustom.key,(function(a,i){return e("div",{key:"customer-item-"+a,staticClass:"order-custom-information-item"},[e("div",{staticClass:"key"},[t._v(t._s(t.informationData.orderCustom.title[i]))]),e("div",{staticClass:"value"},[t._v(t._s(t.informationData.orderCustom.value[i]))])])}))],2),e("div",{staticClass:"product-information-content"},[e("div",{staticClass:"title"},[t._v("产品信息")]),t._l(t.informationData.product.key,(function(a,i){return e("div",{key:"information-"+a,staticClass:"product-information-item"},[e("div",{staticClass:"key"},[t._v(t._s(t.informationData.product.title[i]))]),e("div",{staticClass:"value"},[t._v(t._s(t.informationData.product.value[i]))])])}))],2),e("div",{staticClass:"attendance-card-content"},[e("LineClearAttendanceCard",{attrs:{"chart-id":t.attendance.chartId,"chart-data":t.attendance.dataList}})],1)]),e("div",{staticClass:"content-body"},[e("div",{staticClass:"staff-card-content"},[e("LineClearStaffCard",{attrs:{"staff-data":t.staffData}})],1),e("div",{staticClass:"product-table-content"},[e("LineClearOutputTable",{attrs:{"table-data":t.productTable.dataList,"table-column":t.productTable.columnList,"table-key":t.productTable.keyList}})],1),e("div",{staticClass:"product-charts-content"},[e("LineClearOutputLine",{attrs:{"chart-id":t.outputLine.chartId,"chart-data":t.outputLine.dataList}}),e("LineClearOutputWaterfall",{attrs:{"chart-id":t.outputWaterfall.chartId,"chart-data":t.outputWaterfall.dataList}})],1)])])},wi=[],ki=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"line-clear-attendance-card-content"},[e("div",{staticClass:"line-clear-attendance-card-canvas",attrs:{id:t.chartId}})])},Ti=[],Fi=(e("39b6"),{name:"LineClearAttendanceCard",props:{chartId:{required:!0,type:String},chartData:{required:!0,type:Array}},data:function(){return{allNum:0,pieCanvas:null,oldData:[]}},watch:{chartData:function(t){this.oldData.length!==t.length?(this.pieCanvas&&(this.pieCanvas.destroy(),this.pieCanvas=null),this.CreateCanvas(this.chartId,t),this.oldData=JSON.parse(JSON.stringify(t))):this.UpdateCanvas(t)}},mounted:function(){this.CreateCanvas(this.chartId,this.chartData)},methods:{CreateCanvas:function(t,a){var e=this;document.getElementById(t).innerHTML&&(document.getElementById(t).innerHTML=null,this.pieCanvas=null),this.allNum=0,this.chartData.forEach((function(t){e.allNum+=t.value})),this.pieCanvas=new ia["Pie"](t,{appendPadding:10,width:330,height:230,autoFit:!1,data:a,animation:!1,angleField:"value",colorField:"name",radius:1,innerRadius:.6,legend:{position:"right",offsetX:-20,offsetY:10,itemName:{style:{fill:"#2c2c2c",fontWeight:"bold",fontSize:16}}},label:{type:"inner",offset:"-50%",content:"{value}",style:{textAlign:"center",fontSize:18,fill:"black",fontWeight:"bold"}},color:["#61E658","#D9E658","pink","purple","#E91212","#2c2c2c","#2c2c2c"],interactions:[{type:"element-selected"},{type:"element-active"}],statistic:{title:!1,content:{style:{whiteSpace:"pre-wrap",overflow:"hidden",textOverflow:"ellipsis",fontSize:24,color:"#4b4b4b"},formatter:function(){return"共 ".concat(e.allNum," 人")}}}}),this.pieCanvas.render()},UpdateCanvas:function(t){this.pieCanvas.changeData(t)}}}),Oi=Fi,Ii=Object(r["a"])(Oi,ki,Ti,!1,null,null,null),xi=Ii.exports,ji=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"line-clear-staff-card-content"},[e("div",{staticClass:"staff-list"},t._l(t.showStaffList,(function(a){return e("div",{key:"staff-item-"+a.id,staticClass:"staff-item"},[e("div",{staticClass:"staff-item-img"},[e("img",{attrs:{src:a.image,alt:a.name}})]),e("div",{staticClass:"staff-item-information-content"},[e("div",{staticClass:"staff-item-name-title"},[e("div",{staticClass:"staff-item-name"},[t._v(t._s(a.name))]),e("div",{staticClass:"divider"}),e("div",{staticClass:"staff-item-title"},[t._v(t._s(a.titleStr))])]),e("div",{staticClass:"staff-item-title-contact"},[e("div",{staticClass:"staff-item-contact-title"},[t._v("联系方式")]),e("div",{staticClass:"staff-item-contact"},[t._v(t._s(a.contact))])])])])})),0)])},Ni=[],Ei=(e("f6be"),{props:{staffData:{required:!0,type:Array}},name:"LineClearStaffCard",data:function(){return{staffLength:0,staffInterval:null,flashTime:5e3,showStaffList:[],showStaffListPage:0}},mounted:function(){this.staffInterval&&(window.clearInterval(this.staffInterval),this.staffInterval=null)},watch:{staffData:function(){this.staffData.length!==this.staffLength&&(this.staffInterval&&(window.clearInterval(this.staffInterval),this.staffInterval=null),this.staffLength=this.staffData.length,this.showStaffList=[],this.showStaffListPage=0,this.ChangeStaffList())}},methods:{ChangeStaffList:function(){var t=this;if(this.staffLength<6){var a;(a=this.showStaffList).push.apply(a,Object(gt["a"])(this.staffData))}else{var e=1*(this.staffLength/5).toFixed(0),i=0;this.showStaffList=[],i=5*this.showStaffListPage+5<this.staffLength?5:this.staffLength-5*this.showStaffListPage;for(var s=5*this.showStaffListPage;s<5*this.showStaffListPage+i;s++)this.showStaffList.push(this.staffData[s]);this.showStaffListPage+=1,this.showStaffListPage>e&&(this.showStaffListPage=0),this.staffInterval=window.setInterval((function(){t.showStaffList=[],i=5*t.showStaffListPage+5<t.staffLength?5:t.staffLength-5*t.showStaffListPage;for(var a=5*t.showStaffListPage;a<5*t.showStaffListPage+i;a++)t.showStaffList.push(t.staffData[a]);t.showStaffListPage+=1,t.showStaffListPage>e&&(t.showStaffListPage=0)}),this.flashTime)}}}}),$i=Ei,qi=Object(r["a"])($i,ji,Ni,!1,null,"4ff8795d",null),Pi=qi.exports,Ai=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"line-clear-output-table-content"},[e("table",t._l(t.tableColumn,(function(a,i){return e("tr",{key:"line-clear-output-table-"+a},[e("td",[t._v(t._s(a))]),t._l(t.tableData,(function(a,s){return e("td",{key:"line-clear-output-table-item-"+t.tableKey[i]+"-"+s},[t._v(" "+t._s(a[t.tableKey[i]])+" ")])}))],2)})),0)])},Ui=[],zi=(e("1cac"),{props:{tableColumn:{required:!0,type:Array},tableKey:{required:!0,type:Array},tableData:{required:!0,type:Array}},name:"LineClearOutputTable"}),Bi=zi,Mi=Object(r["a"])(Bi,Ai,Ui,!1,null,null,null),Wi=Mi.exports,Ji=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"line-clear-output-line-content"},[e("div",{staticClass:"line-clear-output-line-canvas",attrs:{id:t.chartId}})])},Hi=[],Yi=(e("ea90"),{props:{chartId:{required:!0,type:String},chartData:{required:!0,type:Array}},name:"LineClearOutputLine",data:function(){return{maxVal:10,lineCanvas:null,oldData:[],annotationList:[]}},watch:{chartData:function(t){this.oldData.length!==t.length?(this.lineCanvas&&(this.lineCanvas.destroy(),this.lineCanvas=null),this.CreateCanvas(this.chartId,t),this.oldData=JSON.parse(JSON.stringify(t))):this.UpdateCanvas(t)}},mounted:function(){this.CreateCanvas(this.chartId,this.chartData)},methods:{CreateCanvas:function(t,a){var e=this;document.getElementById(t).innerHTML&&(document.getElementById(t).innerHTML=null,this.lineCanvas=null),this.annotationList=[],a.length&&a.forEach((function(t,i){0===i&&e.annotationList.push({type:"text",position:["min",t.target],content:"目标线",offsetY:24,offsetX:-28,style:{textBaseline:"bottom",fill:"#F4664A",fontWeight:"bold",fontSize:16}}),i>0&&e.annotationList.push({type:"line",style:{stroke:"#F4664A",lineDash:[4,4],lineWidth:2},start:[a[i-1].time,a[i-1].target],end:[t.time,t.target]}),e.annotationList.push({type:"text",position:[t.time,t.target],content:t.target,offsetY:-4,offsetX:-16,style:{textBaseline:"bottom",fill:"#F4664A",fontWeight:"bold",fontSize:18}},{type:"regionFilter",start:["min",t.target],end:[t.target,"min"],color:"rgb(245, 110, 83)"},{type:"regionFilter",start:["min","max"],end:["max",t.target],color:"rgb(102, 231, 97)"})})),this.yAxisValueMax(a),this.lineCanvas=new ia["Line"](t,{height:250,autoFit:!1,data:a,animation:!1,xField:"time",yField:"output",color:"#5B8FF9",label:{style:{fill:"#5B8FF9",fontWeight:"bold",fontSize:18}},yAxis:{max:this.maxVal+5,title:{text:"数量",style:{fill:"#2c2c2c",fontSize:24}},label:{style:{fill:"#2c2c2c",fontSize:16,fontWeight:"bold"},formatter:function(t){return t}}},xAxis:{label:{style:{fill:"#2c2c2c",fontSize:11,fontWeight:"bold"},formatter:function(t){return t},autoHide:!1,autoRotate:!0}},annotations:Object(gt["a"])(this.annotationList),point:{size:5,shape:"circle",style:{fill:"#5B8FF9",stroke:"#5B8FF9",lineWidth:1}}}),this.lineCanvas.render()},UpdateCanvas:function(t){this.lineCanvas.changeData(t)},yAxisValueMax:function(t){var a=this;t.forEach((function(t){t.target>a.maxVal&&(a.maxVal=t.target+10),t.output>a.maxVal&&(a.maxVal=t.output+10)}))}}}),Ri=Yi,Gi=Object(r["a"])(Ri,Ji,Hi,!1,null,null,null),Vi=Gi.exports,Qi=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"line-clear-output-waterfall-content"},[e("div",{staticClass:"line-clear-output-waterfall-canvas",attrs:{id:t.chartId}})])},Xi=[],Ki=(e("28774"),{props:{chartId:{required:!0,type:String},chartData:{required:!0,type:Array}},data:function(){return{oldData:[],waterfallCanvas:null}},name:"LineClearOutputWaterfall",watch:{chartData:function(t){this.oldData.length!==t.length?(this.waterfallCanvas&&(this.waterfallCanvas.destroy(),this.waterfallCanvas=null),this.CreateCanvas(this.chartId,t),this.oldData=JSON.parse(JSON.stringify(t))):this.UpdateCanvas(t)}},mounted:function(){this.CreateCanvas(this.chartId,this.chartData)},methods:{CreateCanvas:function(t,a){document.getElementById(t).innerHTML&&(document.getElementById(t).innerHTML=null,this.waterfallCanvas=null),this.waterfallCanvas=new ia["Waterfall"](t,{height:250,autoFit:!1,data:a,animation:!1,xField:"time",yField:"value",legend:{position:"top-left"},xAxis:{label:{style:{fill:"#2c2c2c",fontSize:11,fontWeight:"bold"},autoRotate:!0,autoHide:!1}},yAxis:{min:0,title:{text:"数量",style:{fill:"#2c2c2c",fontSize:24}},label:{style:{fill:"#2c2c2c",fontSize:14},formatter:function(t){return t}}},label:{style:{fill:"black",fontWeight:"bold"},layout:[{type:"interval-adjust-position"}]},total:{label:"总数",style:{fill:"#FF802A"}}}),this.waterfallCanvas.render()},UpdateCanvas:function(t){this.waterfallCanvas.changeData(t)}}}),Zi=Ki,ts=Object(r["a"])(Zi,Qi,Xi,!1,null,"8b181690",null),as=ts.exports,es=(e("fb83"),{mixins:[ja,Ea],components:{LineClearAttendanceCard:xi,LineClearStaffCard:Pi,LineClearOutputTable:Wi,LineClearOutputLine:Vi,LineClearOutputWaterfall:as},name:"UniversalLineClear",data:function(){return{typeList:["Null","SmallBox"],logoTitleConfig:{logoPath:"",title:""},informationData:{orderCustom:{title:["订单号","订单数量","订单目的地","客户"],key:["orderCode","orderNum","orderDestination","orderCustomer"],value:[]},product:{title:["产品型号","产品规格","产品名称",""],key:["productModel","productSpec","productName",""],value:[]}},attendance:{chartId:"universal-line-clear-attendance-chart",title:["正常","请假","缺勤"],key:["normal","leave","absence"],dataList:[]},staffData:[],productTable:{columnList:["时间","目标","投入","合格","不良","维修"],keyList:["time","target","input","output","useless","repair"],dataList:[]},outputLine:{chartId:"universal-line-clear-output-line",dataList:[]},outputWaterfall:{chartId:"universal-line-clear-output-waterfall",dataList:[]}}},created:function(){this.$route.query&&(this.pageConfig.configId=this.$route.query.configId,this.pageConfig.optional=this.$route.query.optional,this.pageConfig.protocolNames=this.$route.query.protocolNames?this.$route.query.protocolNames:null,this.pageConfig.produceSize=this.$route.query.produceSize?this.$route.query.produceSize:0)},methods:{DialogParamData:function(t){var a=this,e=JSON.parse(JSON.stringify(t));function i(t,a){return t&&!a?"".concat(t):t&&a?"".concat(t," (").concat(a,")"):!t&&a?"".concat(a):"-"}this.$set(this.logoTitleConfig,"logoPath",e.config.logoPath),this.$set(this.logoTitleConfig,"title",e.config.title),this.productTable.dataList=[],this.outputLine.dataList=[],this.outputWaterfall.dataList=[],this.informationData.orderCustom.value=[],this.informationData.orderCustom.key.forEach((function(t){a.informationData.orderCustom.value.push(e.information[t])})),this.informationData.product.value=[],this.informationData.product.key.forEach((function(t){a.informationData.product.value.push(e.information[t])})),this.attendance.dataList=[],this.attendance.key.forEach((function(t,i){a.attendance.dataList.push({name:a.attendance.title[i],value:e.attendance[t]})})),this.staffData=[],e.staffList.forEach((function(t){a.staffData.push(Object(ct["a"])(Object(ct["a"])({},t),{},{titleStr:i(t.titleCh,t.titleEn)}))})),e.dataList.forEach((function(t){a.productTable.dataList.push(Object(ct["a"])(Object(ct["a"])({},t),{},{time:t.timeStr,target:null===t.offsetDay?null:t.target,input:null===t.offsetDay?null:0,output:null===t.offsetDay?null:0,useless:null===t.offsetDay?null:0,repair:null===t.offsetDay?null:0})),a.outputLine.dataList.push(Object(ct["a"])(Object(ct["a"])({},t),{},{time:t.timeStr,target:null===t.offsetDay?null:t.target,output:null===t.offsetDay?null:0})),a.outputWaterfall.dataList.push(Object(ct["a"])(Object(ct["a"])({},t),{},{time:t.timeStr,value:t.offsetDay=0}))}))},DialogDataData:function(t){var a=this,e=JSON.parse(JSON.stringify(t));e.dataList.forEach((function(t){var e=qa(t.productList,a.typeList);a.productTable.dataList.forEach((function(a){t.startTime.timeStamp===a.startTime.timeStamp&&t.endTime.timeStamp===a.endTime.timeStamp&&(a.input+=e.input,a.output+=e.ok,a.useless+=e.ng,a.repair+=e.repair)})),a.outputLine.dataList.forEach((function(a){t.startTime.timeStamp===a["startTime"].timeStamp&&t.endTime.timeStamp===a["endTime"].timeStamp&&(a.output+=e.ok)})),a.outputWaterfall.dataList.forEach((function(a){t.startTime.timeStamp===a["startTime"].timeStamp&&t.endTime.timeStamp===a["endTime"].timeStamp&&(a.value+=e.ok)}))}))},DialogChildrenData:function(t){var a=this;t.length&&t.forEach((function(t){a.DialogDataData(t["dataList"]),a.DialogChildrenData(t["children"])}))}}}),is=es,ss=Object(r["a"])(is,Li,wi,!1,null,null,null),ns=ss.exports,ls=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"universal-stack-clear-content"},[e("div",{staticClass:"content-header"},[e("div",{staticClass:"logo-time-title-card-content"},[e("div",{staticClass:"logo-time-content"},[e("div",{staticClass:"logo-content"},[e("img",{attrs:{src:t.logoTitleConfig.logoPath,alt:"#"}})]),e("div",{staticClass:"time-content"},[e("div",{staticClass:"date"},[t._v(t._s(t.dateTime.date))]),e("div",{staticClass:"week"},[t._v(t._s(t.dateTime.week))]),e("div",{staticClass:"time"},[t._v(t._s(t.dateTime.time))])])]),e("div",{staticClass:"divider"}),e("div",{staticClass:"title-content"},[t._v(t._s(t.logoTitleConfig.title))])]),t._l(t.detailCards,(function(a){return e("div",{key:"show-detail-item-"+a.title,staticClass:"show-detail-item"},[e("div",{staticClass:"title"},[t._v(t._s(a.title))]),e("div",{staticClass:"value"},[t._v(t._s(a.value))])])})),e("div",{staticClass:"universal-stack-clear-liquid"},[e("StackClearOutputLiquid",{attrs:{"chart-id":t.outputLiquid.chartId,"chart-data":t.outputLiquid.chartData}})],1)],2),e("div",{staticClass:"content-body"},[e("div",{staticClass:"stack-information-card-content"},[e("StackClearStatusInformation",{attrs:{title:t.statusInformation.title,"status-list":t.statusInformation.dataList}})],1),e("div",{staticClass:"stack-charts-card-content"},[e("div",{staticClass:"stack-output-line-content"},[e("StackClearOutputLine",{attrs:{title:t.outputLine.title,"chart-id":t.outputLine.title,"chart-data":t.outputLine.dataList}})],1),e("div",{staticClass:"stack-output-waterfall-content"},[e("StackClearOutputWaterfall",{attrs:{title:t.outputWaterfall.title,"chart-id":t.outputWaterfall.chartId,"chart-data":t.outputWaterfall.dataList}})],1)])])])},os=[],rs=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"stack-clear-output-liquid-content"},[e("div",{staticClass:"stack-clear-output-liquid-canvas",attrs:{id:t.chartId}})])},cs=[],us=(e("8987"),{props:{chartId:{required:!0,type:String},chartData:{required:!0,type:Number}},name:"StackClearOutputLiquid",data:function(){return{liquidCanvas:null}},watch:{chartData:function(t){this.UpdateCanvas(t)}},mounted:function(){this.CreateCanvas(this.chartId,this.chartData)},methods:{CreateCanvas:function(t,a){document.getElementById(t).innerHTML&&(document.getElementById(t).innerHTML=null,this.liquidCanvas=null),this.liquidCanvas=new ia["Liquid"](t,{height:250,animation:!1,autoFit:!1,statistic:{title:{formatter:function(){return"与上一时段对比"},style:{fontSize:24,fill:"#1b1b1b"}},content:{style:{fontSize:30,lineHeight:1,fill:"#1b1b1b"}}},liquidStyle:{fill:"dodgerblue",stroke:"dodgerblue"},percent:a,outline:{border:4,distance:8},wave:{length:128}}),this.liquidCanvas.render()},UpdateCanvas:function(t){this.liquidCanvas.changeData(t)}}}),ds=us,fs=Object(r["a"])(ds,rs,cs,!1,null,"741b246a",null),ps=fs.exports,ms=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"stack-clear-status-information-content"},[e("div",{staticClass:"title"},[t._v(t._s(t.title))]),e("div",{staticClass:"status-content"},t._l(t.statusList,(function(a,i){return e("div",{key:"stack-clear-status-item-"+i,staticClass:"status-item",style:{height:"calc(100% / "+t.statusList.length+")"}},[e("div",{staticClass:"title"},[e("div",{staticClass:"title-ch"},[t._v(t._s(a.title))]),e("div",{staticClass:"title-en"},[t._v(t._s(a.titleEn))])]),e("div",{staticClass:"status",style:{color:t.PalletColorDisc(a.value)}},[t._v(" "+t._s(a.status)+" ")])])})),0)])},hs=[],vs=(e("a024"),{name:"StackClearStatusInformation",props:{title:{required:!0,type:String},statusList:{required:!0,type:Array}},methods:{PalletColorDisc:function(t){switch(t){case 0:return"#2352FE";case 10:return"#65AB7A";case 20:return"#BBAB00";default:return"#E818A3"}}}}),gs=vs,Cs=Object(r["a"])(gs,ms,hs,!1,null,null,null),bs=Cs.exports,ys=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"stack-clear-output-line-content"},[e("div",{staticClass:"stack-clear-output-line-title"},[t._v(t._s(t.title))]),e("div",{staticClass:"stack-clear-output-line-canvas-content"},[e("div",{staticClass:"stack-clear-output-line-canvas",attrs:{id:t.chartId}})])])},Ds=[],_s=(e("9ed6"),{props:{title:{default:"",type:String},chartId:{required:!0,type:String},chartData:{required:!0,type:Array}},name:"StackClearOutputLine",data:function(){return{lineCanvas:null,oldData:[]}},watch:{chartData:function(t){this.oldData.length!==t.length?(this.lineCanvas&&(this.lineCanvas.destroy(),this.lineCanvas=null),this.CreateCanvas(this.chartId,this.chartData),this.oldData=JSON.parse(JSON.stringify(t))):this.UpdateCanvas(t)}},mounted:function(){this.CreateCanvas(this.chartId,this.chartData)},methods:{CreateCanvas:function(t,a){document.getElementById(t).innerHTML&&(document.getElementById(t).innerHTML=null,this.lineCanvas=null),this.lineCanvas=new ia["Line"](t,{data:a,height:315,autoFit:!1,animation:!1,xField:"time",yField:"value",label:{style:{fill:"#2c2c2c",fontSize:17,fontWeight:"bold"}},point:{size:5,shape:"diamond",style:{fill:"white",stroke:"#5B8FF9",lineWidth:2}},yAxis:{title:{text:"数量",style:{fill:"#2c2c2c",fontSize:24}},label:{style:{fill:"#2c2c2c",fontSize:16,fontWeight:"bold"},formatter:function(t){return t}}},xAxis:{label:{style:{fill:"#2c2c2c",fontSize:13,fontWeight:"bold"},formatter:function(t){return t},autoHide:!1,autoRotate:!0}},tooltip:{showMarkers:!1},state:{active:{style:{shadowBlur:4,stroke:"#000000",fill:"#000000"}}},interactions:[{type:"marker-active"}]}),this.lineCanvas.render()},UpdateCanvas:function(t){this.lineCanvas.changeData(t)}}}),Ss=_s,Ls=Object(r["a"])(Ss,ys,Ds,!1,null,"4845be3a",null),ws=Ls.exports,ks=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"stack-clear-output-waterfall-content"},[e("div",{staticClass:"stack-clear-output-waterfall-title"},[t._v(t._s(t.title))]),e("div",{staticClass:"stack-clear-output-waterfall-canvas-content"},[e("div",{staticClass:"stack-clear-output-waterfall-canvas",attrs:{id:t.chartId}})])])},Ts=[],Fs=(e("10ef"),{props:{title:{default:"",type:String},chartId:{required:!0,type:String},chartData:{required:!0,type:Array}},name:"StackClearOutputWaterfall",data:function(){return{waterfallCanvas:null,oldData:[]}},watch:{chartData:function(t){this.oldData.length!==t.length?(this.waterfallCanvas&&(this.waterfallCanvas.destroy(),this.waterfallCanvas=null),this.CreateCanvas(this.chartId,t),this.oldData=JSON.parse(JSON.stringify(t))):this.UpdateCanvas(t)}},mounted:function(){this.CreateCanvas(this.chartId,this.chartData)},methods:{CreateCanvas:function(t,a){document.getElementById(t).innerHTML&&(document.getElementById(t).innerHTML=null,this.waterfallCanvas=null),this.waterfallCanvas=new ia["Waterfall"](t,{data:a,height:315,autoFit:!1,animation:!1,xField:"time",yField:"value",legend:{position:"top-left"},xAxis:{label:{style:{fill:"#2c2c2c",fontSize:13,fontWeight:"bold"},autoRotate:!0,autoHide:!0},line:{style:{fill:"#2c2c2c"}}},yAxis:{min:0,title:{text:"数量",style:{fill:"#2c2c2c",fontSize:24}},label:{style:{fill:"#2c2c2c",fontSize:14,fontWeight:"bold"},formatter:function(t){return t}}},label:{style:{fill:"#2c2c2c",fontSize:18,fontWeight:"bold"},layout:[{type:"interval-adjust-position"}]},total:{label:"总数",style:{fill:"#4CAEFF"}}}),this.waterfallCanvas.render()},UpdateCanvas:function(t){this.waterfallCanvas.changeData(t)}}}),Os=Fs,Is=Object(r["a"])(Os,ks,Ts,!1,null,"61dcea0b",null),xs=Is.exports,js=(e("7bcb"),{mixins:[ja,Ea],components:{StackClearOutputLiquid:ps,StackClearStatusInformation:bs,StackClearOutputLine:ws,StackClearOutputWaterfall:xs},name:"UniversalStackClear",data:function(){return{typeList:["Null","SmallBox"],logoTitleConfig:{logoPath:"",title:""},detailCards:[{title:"当日总额",value:0},{title:"当前时段额度",value:0},{title:"上一时段额度",value:0}],outputLiquid:{chartId:"universal-stack-clear-output-liquid",chartData:0},statusInformation:{title:"码垛状态信息",dataList:[{title:"产线托盘储备情况",titleEn:"Line pallet status",status:"-"},{title:"产线码垛满料情况",titleEn:"Line pallets reserve",status:"-"}]},outputLine:{title:"当日产能情况趋势图",chartId:"universal-stack-clear-output-line",dataList:[]},outputWaterfall:{title:"每时段产能详细瀑布图",chartId:"universal-stack-clear-output-waterfall",dataList:[]}}},created:function(){this.$route.query&&(this.pageConfig.configId=this.$route.query.configId,this.pageConfig.optional=this.$route.query.optional,this.pageConfig.protocolNames=this.$route.query.protocolNames?this.$route.query.protocolNames:null,this.pageConfig.produceSize=this.$route.query.produceSize?this.$route.query.produceSize:0)},methods:{DialogParamData:function(t){var a=this,e=JSON.parse(JSON.stringify(t));this.$set(this.logoTitleConfig,"logoPath",t.config.logoPath),this.$set(this.logoTitleConfig,"title",t.config.title),this.detailCards.forEach((function(t){a.$set(t,"value",0)})),this.$set(this.outputLiquid,"chartData",0),this.outputLine.dataList=[],this.outputWaterfall.dataList=[],e.dataList.forEach((function(t){a.outputLine.dataList.push(Object(ct["a"])(Object(ct["a"])({},t),{},{time:t.timeStr,value:0})),a.outputWaterfall.dataList.push(Object(ct["a"])(Object(ct["a"])({},t),{},{time:t.timeStr,value:0}))}))},DialogDataData:function(t){var a=this,e=JSON.parse(JSON.stringify(t)),i=(new Date).valueOf(),s={nowIndex:0,index:0,startTime:0,endTime:0,value:0};e.dataList.forEach((function(t){var e=qa(t.productList,a.typeList);a.outputLine.dataList.forEach((function(n,l){t.startTime.timeStamp===n.startTime.timeStamp&&t.endTime.timeStamp===n.endTime.timeStamp&&(n.value+=e.ok,t.startTime.timeStamp<=i&&i<=t.endTime.timeStamp&&(l>0?(s.nowIndex=l,s.index=l-1,s.startTime=a.outputLine.dataList[l-1].startTime.timeStamp,s.endTime=a.outputLine.dataList[l-1].endTime.timeStamp,s.value+=a.outputLine.dataList[l-1].value):s.nowIndex=0))})),a.outputWaterfall.dataList.forEach((function(a){t.startTime.timeStamp===a.startTime.timeStamp&&t.endTime.timeStamp===a.endTime.timeStamp&&(a.value+=e.ok)})),a.detailCards[0].value+=e.ok,t.startTime.timeStamp<=i&&i<=t.endTime.timeStamp&&(a.detailCards[1].value+=e.ok)})),this.detailCards[2].value+=s.value,this.detailCards[1].value<=0?this.outputLiquid.chartData=0:this.detailCards[2].value<=0?this.outputLiquid.chartData=1:this.outputLiquid.chartData=1*(this.detailCards[1].value/this.detailCards[2].value).toFixed(4)},DialogProtocolNamesData:function(t){var a=this;if(t&&t instanceof Object&&Object.keys(t).length){var e=Object.keys(t);e.forEach((function(e){e.split("StackPalletStatus").length>1&&(a.$set(a.statusInformation.dataList[0],"value",t[e]),a.$set(a.statusInformation.dataList[0],"status",a.PalletStatusDisc(t[e]))),e.split("StackPalletsReserve").length>1&&(a.$set(a.statusInformation.dataList[1],"value",t[e]),a.$set(a.statusInformation.dataList[1],"status",a.PalletReverseDisc(t[e])))}))}},DialogChildrenData:function(t){var a=this;t.length&&t.forEach((function(t){a.DialogDataData(t["dataList"]),a.DialogChildrenData(t["children"])}))},PalletStatusDisc:function(t){switch(t){case 0:return"空闲 Free";case 10:return"正常 Normal";case 20:return"满料 Full";default:return"未判断 UnKnow"}},PalletReverseDisc:function(t){switch(t){case 0:return"空闲 Free";case 10:return"码货中 Stacking";case 20:return"满料 Full";default:return"未判断 UnKnow"}}}}),Ns=js,Es=Object(r["a"])(Ns,ls,os,!1,null,"6d1359a4",null),$s=Es.exports;i["a"].use(p["a"]);var qs=[{path:"*",name:"NoPage",component:b},{path:"/select",name:"SelectPage",component:O},{path:"/select-new",name:"SelectNew",component:P},{path:"/table",name:"TableDashboard",component:Z},{path:"/stack",name:"StackDashboard",component:lt},{path:"/BiYiLine",name:"BYNewTableDashboard",component:qt},{path:"/BiYiStack",name:"BYNewStackDashboard",component:Gt},{path:"/XinBaoAll",name:"XinBaoAll",component:ta},{path:"/XinBaoLine",name:"XinBaoLine",component:oa},{path:"/XinBaoStack",name:"XinBaoStack",component:pa},{path:"/other",name:"Other",component:Fa},{path:"/DeChangItem",name:"DeChang",component:_a},{path:"/UniversalLine",name:"UniversalLine",component:Be},{path:"/UniversalStack",name:"UniversalStack",component:Si},{path:"/UniversalLineClear",name:"UniversalLineClear",component:ns},{path:"/UniversalStackClear",name:"UniversalStackClear",component:$s}],Ps=new p["a"]({base:"",mode:"hash",routes:qs}),As=Ps;e("202f");i["a"].config.productionTip=!1,i["a"].config.devtools=!0,new i["a"]({router:As,data:{store:f},render:function(t){return t(u)}}).$mount("#app")},"59ae":function(t,a,e){},"5c08":function(t,a,e){t.exports=e.p+"img/product-logo.f3216cb5.png"},"5d9c":function(t,a,e){},6251:function(t,a,e){},6565:function(t,a,e){},"6ec3":function(t,a,e){},"700c":function(t,a,e){},"7b48":function(t,a,e){},"7bcb":function(t,a,e){},"82ae":function(t,a,e){},"85ec":function(t,a,e){},8682:function(t,a,e){},8987:function(t,a,e){},"9ed6":function(t,a,e){},a024:function(t,a,e){},a1f2:function(t,a,e){},a5d3:function(t,a,e){},a64f:function(t,a,e){},afbb:function(t,a,e){},b2a2:function(t,a,e){},b71e:function(t,a,e){},bbaf:function(t,a,e){},c62e:function(t,a,e){},d9c6:function(t,a,e){},ea90:function(t,a,e){},f446:function(t,a,e){t.exports=e.p+"img/staff-img.4a2fec1c.png"},f6be:function(t,a,e){},f714:function(t,a,e){},fb83:function(t,a,e){}});